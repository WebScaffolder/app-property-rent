!function(){"use strict";function r(r,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function o(o,t,e){return t&&r(o.prototype,t),e&&r(o,e),o}function t(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function e(r,o){return(e=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(r,o)}function n(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}();return function(){var t,e=i(r);if(o){var n=i(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)}}function a(r,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r)}function i(r){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[534],{33738:function(r,a,i){i.r(a),i.d(a,{TenantProfileModule:function(){return k}});var l,f=i(39895),s=i(3679),u=i(2603),m=i(37716),c=i(86710),p=i(65),d=i(91841),Z=((l=function(r){!function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),o&&e(r,o)}(a,r);var o=n(a);function a(r){var e;return t(this,a),(e=o.call(this,r,"tenant_profile")).localHttpClient=r,e}return a}(p.b)).\u0275fac=function(r){return new(r||l)(m.LFG(d.eN))},l.\u0275prov=m.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l),g=i(57404),_=i(98295),h=i(49983),q=i(38583);function v(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.first_name)}}function A(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.middle_name)}}function T(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.last_name)}}function y(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.email)}}function w(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.phone)}}function E(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.country)}}function b(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.city)}}function U(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.state)}}function x(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.physical_address)}}function N(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.postal_address)}}function I(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.postal_code)}}function C(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.current_password)}}function P(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.password)}}function O(r,o){if(1&r&&(m.TgZ(0,"mat-error",29),m._uU(1),m.qZA()),2&r){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.password_confirmation)}}var J=f.Bz.forChild([{path:"",component:function(){var r=function(){function r(o,e,n,a,i){t(this,r),this.store=o,this.fb=e,this.route=n,this.tenantProfileService=a,this.notification=i,this.loader=!1,this.form=this.fb.group({first_name:["",[s.kI.required,s.kI.minLength(2)]],middle_name:[""],last_name:[""],email:[""],phone:[""],country:[""],city:[""],state:[""],physical_address:[""],postal_address:[""],postal_code:[""],current_password:[""],password:[""],password_confirmation:[""]})}return o(r,[{key:"ngOnInit",value:function(){this.route.snapshot.data.profile&&(this.profile=this.route.snapshot.data.profile,this.prePopulateForm(this.profile))}},{key:"prePopulateForm",value:function(r){this.profile=r,this.form.patchValue({first_name:this.profile.first_name,middle_name:this.profile.middle_name,last_name:this.profile.last_name,email:this.profile.email,phone:this.profile.phone,country:this.profile.country,city:this.profile.city,state:this.profile.state,physical_address:this.profile.physical_address,postal_address:this.profile.postal_address,postal_code:this.profile.postal_code})}},{key:"update",value:function(){var r=this,o=Object.assign({},this.profile,this.form.value);this.loader=!0,this.tenantProfileService.update(o).subscribe(function(o){r.loader=!1,r.notification.showNotification("success","Success !! Profile has been updated."),r.store.dispatch(u.u.actionLogout())},function(o){var t;if(r.loader=!1,0!==o.payment&&(r.formErrors=o,r.formErrors))for(var e in r.formErrors)r.form&&(null===(t=r.form.controls[e])||void 0===t||t.markAsTouched(),r.form.controls[e].setErrors({incorrect:!0}))})}}]),r}();return r.\u0275fac=function(o){return new(o||r)(m.Y36(c.yh),m.Y36(s.qu),m.Y36(f.gz),m.Y36(Z),m.Y36(g.g))},r.\u0275cmp=m.Xpm({type:r,selectors:[["robi-user-profile"]],decls:106,vars:16,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],["color","accent",1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body",3,"formGroup","ngSubmit"],[1,"col-6"],["color","primary","appearance","outline",1,"full-width"],["matInput","","formControlName","first_name","placeholder","First Name"],["align","start","class","form__error",4,"ngIf"],["matInput","","formControlName","middle_name","placeholder","Middle Name"],["matInput","","formControlName","last_name","placeholder","Last Name"],["matInput","","formControlName","email","placeholder","Email"],["matInput","","formControlName","phone","placeholder","Phone"],["matInput","","formControlName","country","placeholder","Country"],["matInput","","formControlName","city","placeholder","City"],["matInput","","formControlName","state","placeholder","State"],[1,"col-12"],["matInput","","formControlName","physical_address","placeholder","Physical Address"],["matInput","","formControlName","postal_address","placeholder","Postal Address"],["matInput","","formControlName","postal_code","placeholder","Postal Code"],[1,"col-md-4"],["matInput","","formControlName","current_password","type","password","placeholder","Current Password"],["matInput","","formControlName","password","type","password","placeholder","New Password"],["matInput","","formControlName","password_confirmation","type","password","placeholder","Confirm New Password"],[1,"btn","mat-raised-button","mat-primary","pull-right",3,"disabled","click"],["align","start",1,"form__error"]],template:function(r,o){1&r&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"div",4),m.TgZ(5,"div",5),m.TgZ(6,"h4",6),m._uU(7,"Edit Profile"),m.qZA(),m.TgZ(8,"p",7),m._uU(9,"Complete your profile"),m.qZA(),m.qZA(),m.TgZ(10,"div",8),m.NdJ("ngSubmit",function(){return o.update()}),m.TgZ(11,"div",2),m.TgZ(12,"div",9),m.TgZ(13,"mat-form-field",10),m.TgZ(14,"mat-label"),m._uU(15,"First Name"),m.qZA(),m._UZ(16,"input",11),m.YNc(17,v,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(18,"div",9),m.TgZ(19,"mat-form-field",10),m.TgZ(20,"mat-label"),m._uU(21,"Middle Name"),m.qZA(),m._UZ(22,"input",13),m.YNc(23,A,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(24,"div",2),m.TgZ(25,"div",9),m.TgZ(26,"mat-form-field",10),m.TgZ(27,"mat-label"),m._uU(28,"Last Name"),m.qZA(),m._UZ(29,"input",14),m.YNc(30,T,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(31,"div",9),m.TgZ(32,"mat-form-field",10),m.TgZ(33,"mat-label"),m._uU(34,"Email"),m.qZA(),m._UZ(35,"input",15),m.YNc(36,y,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(37,"div",2),m.TgZ(38,"div",9),m.TgZ(39,"mat-form-field",10),m.TgZ(40,"mat-label"),m._uU(41,"Phone"),m.qZA(),m._UZ(42,"input",16),m.YNc(43,w,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(44,"div",9),m.TgZ(45,"mat-form-field",10),m.TgZ(46,"mat-label"),m._uU(47,"Country"),m.qZA(),m._UZ(48,"input",17),m.YNc(49,E,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(50,"div",2),m.TgZ(51,"div",9),m.TgZ(52,"mat-form-field",10),m.TgZ(53,"mat-label"),m._uU(54,"City"),m.qZA(),m._UZ(55,"input",18),m.YNc(56,b,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(57,"div",9),m.TgZ(58,"mat-form-field",10),m.TgZ(59,"mat-label"),m._uU(60,"State"),m.qZA(),m._UZ(61,"input",19),m.YNc(62,U,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(63,"div",2),m.TgZ(64,"div",20),m.TgZ(65,"mat-form-field",10),m.TgZ(66,"mat-label"),m._uU(67,"Physical Address"),m.qZA(),m._UZ(68,"input",21),m.YNc(69,x,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(70,"div",2),m.TgZ(71,"div",20),m.TgZ(72,"mat-form-field",10),m.TgZ(73,"mat-label"),m._uU(74,"Postal Address"),m.qZA(),m._UZ(75,"input",22),m.YNc(76,N,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(77,"div",2),m.TgZ(78,"div",20),m.TgZ(79,"mat-form-field",10),m.TgZ(80,"mat-label"),m._uU(81,"Postal Code"),m.qZA(),m._UZ(82,"input",23),m.YNc(83,I,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(84,"div",2),m.TgZ(85,"div",24),m.TgZ(86,"mat-form-field",10),m.TgZ(87,"mat-label"),m._uU(88,"Current Password"),m.qZA(),m._UZ(89,"input",25),m.YNc(90,C,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(91,"div",24),m.TgZ(92,"mat-form-field",10),m.TgZ(93,"mat-label"),m._uU(94,"New Password"),m.qZA(),m._UZ(95,"input",26),m.YNc(96,P,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(97,"div",24),m.TgZ(98,"mat-form-field",10),m.TgZ(99,"mat-label"),m._uU(100,"Confirm New Password"),m.qZA(),m._UZ(101,"input",27),m.YNc(102,O,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(103,"button",28),m.NdJ("click",function(){return o.update()}),m._uU(104,"Update Profile"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m._UZ(105,"div",24),m.qZA(),m.qZA(),m.qZA()),2&r&&(m.xp6(10),m.Q6J("formGroup",o.form),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.first_name),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.middle_name),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.last_name),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.email),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.phone),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.country),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.city),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.state),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.physical_address),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.postal_address),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.postal_code),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.current_password),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.password),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.password_confirmation),m.xp6(1),m.Q6J("disabled",!o.form.valid||o.loader))},directives:[s.JL,s.sg,_.KE,_.hX,h.Nt,s.Fj,s.JJ,s.u,q.O5,_.TO],styles:[""]}),r}(),resolve:{profile:function(){var r=function(){function r(o){t(this,r),this.tenantProfileService=o}return o(r,[{key:"resolve",value:function(r,o){return this.tenantProfileService.getAll("",1,1)}}]),r}();return r.\u0275fac=function(o){return new(o||r)(m.LFG(Z))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}()}}]),Y=i(83893),k=function(){var r=function r(){t(this,r)};return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[[Y.m,J]]}),r}()}}])}();