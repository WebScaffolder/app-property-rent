"use strict";(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[478],{58478:function(t,e,r){r.r(e),r.d(e,{UserGeneralSettingModule:function(){return ft}});var o=r(39895),a=r(22238),i=r(99692),n=r(11494),s=r(28292),l=r(22759),c=r(66682),m=r(54395),u=r(87519),d=r(68307),f=r(3679),g=r(26215),h=r(2603),p=r(37716),Z=r(86710),b=r(19333),A=r(57404),_=r(38583),q=r(98295),v=r(67441),T=r(49983),x=r(51095),w=r(76627),N=r(72458),U=r(12178);function I(t,e){1&t&&(p.ynx(0),p.TgZ(1,"mat-icon",21),p._uU(2,"error_outline"),p.qZA(),p.BQk())}function S(t,e){if(1&t&&(p.TgZ(0,"h5",19),p._uU(1,"New User "),p.YNc(2,I,3,0,"ng-container",20),p.ALo(3,"async"),p.qZA()),2&t){const t=p.oxw();p.xp6(2),p.Q6J("ngIf",p.lcZ(3,1,t.formError$))}}function E(t,e){1&t&&(p.ynx(0),p.TgZ(1,"mat-icon",21),p._uU(2,"error_outline"),p.qZA(),p.BQk())}function C(t,e){if(1&t&&(p.TgZ(0,"h5",19),p._uU(1,"Edit User "),p.YNc(2,E,3,0,"ng-container",20),p.ALo(3,"async"),p.qZA()),2&t){const t=p.oxw();p.xp6(2),p.Q6J("ngIf",p.lcZ(3,1,t.formError$))}}function Y(t,e){if(1&t&&(p.TgZ(0,"mat-option",22),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.Q6J("value",t.id),p.xp6(1),p.hij(" ",t.name," ")}}function J(t,e){if(1&t&&(p.TgZ(0,"mat-error",23),p._uU(1),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.Oqu(t.formErrors.role_id)}}function k(t,e){if(1&t&&(p.TgZ(0,"mat-error",23),p._uU(1),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.Oqu(t.formErrors.first_name)}}function y(t,e){if(1&t&&(p.TgZ(0,"mat-error",23),p._uU(1),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.Oqu(t.formErrors.middle_name)}}function Q(t,e){if(1&t&&(p.TgZ(0,"mat-error",23),p._uU(1),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.Oqu(t.formErrors.last_name)}}function D(t,e){if(1&t&&(p.TgZ(0,"mat-error",23),p._uU(1),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.Oqu(t.formErrors.email)}}function O(t,e){if(1&t&&(p.TgZ(0,"mat-error",23),p._uU(1),p.qZA()),2&t){const t=p.oxw(2);p.xp6(1),p.Oqu(t.formErrors.current_password)}}function j(t,e){if(1&t&&(p.TgZ(0,"div",2),p.TgZ(1,"div",3),p.TgZ(2,"mat-form-field",4),p.TgZ(3,"mat-label"),p._uU(4,"Current Password"),p.qZA(),p._UZ(5,"input",24),p.YNc(6,O,2,1,"mat-error",7),p.qZA(),p.qZA(),p.qZA()),2&t){const t=p.oxw();p.xp6(6),p.Q6J("ngIf",null==t.formErrors?null:t.formErrors.current_password)}}function R(t,e){if(1&t&&(p.TgZ(0,"mat-error",23),p._uU(1),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.Oqu(t.formErrors.password)}}function F(t,e){if(1&t&&(p.TgZ(0,"mat-error",23),p._uU(1),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.Oqu(t.formErrors.password_confirmation)}}function $(t,e){1&t&&(p.TgZ(0,"div",25),p._UZ(1,"mat-progress-bar",26),p.qZA())}let H=(()=>{class t{constructor(t,e,r,o,a,i){this.store=e,this.fb=r,this.userService=o,this.notification=a,this.dialogRef=i,this.errorInForm=new g.X(!1),this.formError$=this.errorInForm.asObservable(),this.loader=!1,this.roles=[],this.employees=[],this.branches=[],this.roles=t.roles,this.employees=t.employees,this.branches=t.branches,this.isAdd=t.isAdd,this.user=t.user}ngOnInit(){var t,e,r,o,a;this.isAdd&&(this.form=this.fb.group({first_name:["",[f.kI.required,f.kI.minLength(3)]],middle_name:[""],last_name:["",[f.kI.required,f.kI.minLength(3)]],role_id:[""],email:[""],password:[""],password_confirmation:[""]})),this.isAdd||(this.form=this.fb.group({first_name:[null===(t=this.user)||void 0===t?void 0:t.first_name,[f.kI.required,f.kI.minLength(3)]],middle_name:[null===(e=this.user)||void 0===e?void 0:e.middle_name],last_name:[null===(r=this.user)||void 0===r?void 0:r.last_name,[f.kI.required,f.kI.minLength(3)]],role_id:[null===(o=this.user)||void 0===o?void 0:o.role_id],email:[null===(a=this.user)||void 0===a?void 0:a.email],current_password:[""],password:[""],password_confirmation:[""]}))}create(){this.errorInForm.next(!1);const t=Object.assign({},this.user,this.form.value);this.loader=!0,this.userService.create(t).subscribe(t=>{this.onSaveComplete(),this.notification.showNotification("success","Success !! User created.")},t=>{var e,r;if(this.errorInForm.next(!0),this.loader=!1,this.formErrors=t,this.formErrors)for(const o in this.formErrors)this.form&&(null===(e=this.form.controls[o])||void 0===e||e.markAsTouched(),null===(r=this.form.controls[o])||void 0===r||r.setErrors({incorrect:!0}))})}update(){const t=Object.assign({},this.user,this.form.value);this.loader=!0,this.errorInForm.next(!1),this.userService.update(t).subscribe(t=>{this.loader=!1,this.dialogRef.close(this.form.value),this.notification.showNotification("success","Success !! User has been updated."),this.store.dispatch(h.u.actionLogout())},t=>{var e,r;if(this.loader=!1,this.errorInForm.next(!0),this.formErrors=t,this.formErrors)for(const o in this.formErrors)this.form&&(null===(e=this.form.controls[o])||void 0===e||e.markAsTouched(),null===(r=this.form.controls[o])||void 0===r||r.setErrors({incorrect:!0}))})}createOrUpdate(){this.isAdd?this.create():this.update()}save(){this.dialogRef.close(this.form.value)}close(){this.dialogRef.close()}onSaveComplete(){this.loader=!1,this.form.reset(),this.dialogRef.close(this.form.value)}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(a.WI),p.Y36(Z.yh),p.Y36(f.qu),p.Y36(b.f),p.Y36(A.g),p.Y36(a.so))},t.\u0275cmp=p.Xpm({type:t,selectors:[["robi-add-user"]],decls:60,vars:16,consts:[["mat-dialog-title","",4,"ngIf"],[1,"mat-dialog-data",3,"formGroup"],[1,"row"],[1,"col-12"],["color","primary","appearance","outline",1,"full-width"],["placeholder","Role","formControlName","role_id"],[3,"value",4,"ngFor","ngForOf"],["align","start","class","form__error",4,"ngIf"],["matInput","","formControlName","first_name","placeholder","First Name"],["matInput","","formControlName","middle_name","placeholder","Middle Name"],["matInput","","formControlName","last_name","placeholder","Last Name"],["matInput","","formControlName","email","placeholder","Email"],["class","row",4,"ngIf"],["matInput","","formControlName","password","type","password","placeholder","Password"],["matInput","","formControlName","password_confirmation","type","password","placeholder","Confirm Password"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["align","center"],["mat-button","","color","accent",1,"mr-2",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-dialog-title",""],[4,"ngIf"],["color","warn"],[3,"value"],["align","start",1,"form__error"],["matInput","","formControlName","current_password","type","password","placeholder","Current Password"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(t,e){1&t&&(p.YNc(0,S,4,3,"h5",0),p.YNc(1,C,4,3,"h5",0),p.TgZ(2,"mat-dialog-content",1),p.TgZ(3,"div",2),p.TgZ(4,"div",3),p.TgZ(5,"mat-form-field",4),p.TgZ(6,"mat-label"),p._uU(7,"Role"),p.qZA(),p.TgZ(8,"mat-select",5),p.YNc(9,Y,2,2,"mat-option",6),p.qZA(),p.YNc(10,J,2,1,"mat-error",7),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"div",2),p.TgZ(12,"div",3),p.TgZ(13,"mat-form-field",4),p.TgZ(14,"mat-label"),p._uU(15,"First Name"),p.qZA(),p._UZ(16,"input",8),p.YNc(17,k,2,1,"mat-error",7),p.qZA(),p.qZA(),p.qZA(),p.TgZ(18,"div",2),p.TgZ(19,"div",3),p.TgZ(20,"mat-form-field",4),p.TgZ(21,"mat-label"),p._uU(22,"Middle Name"),p.qZA(),p._UZ(23,"input",9),p.YNc(24,y,2,1,"mat-error",7),p.qZA(),p.qZA(),p.qZA(),p.TgZ(25,"div",2),p.TgZ(26,"div",3),p.TgZ(27,"mat-form-field",4),p.TgZ(28,"mat-label"),p._uU(29,"Last Name"),p.qZA(),p._UZ(30,"input",10),p.YNc(31,Q,2,1,"mat-error",7),p.qZA(),p.qZA(),p.qZA(),p.TgZ(32,"div",2),p.TgZ(33,"div",3),p.TgZ(34,"mat-form-field",4),p.TgZ(35,"mat-label"),p._uU(36,"Email"),p.qZA(),p._UZ(37,"input",11),p.YNc(38,D,2,1,"mat-error",7),p.qZA(),p.qZA(),p.qZA(),p.YNc(39,j,7,1,"div",12),p.TgZ(40,"div",2),p.TgZ(41,"div",3),p.TgZ(42,"mat-form-field",4),p.TgZ(43,"mat-label"),p._uU(44,"Password"),p.qZA(),p._UZ(45,"input",13),p.YNc(46,R,2,1,"mat-error",7),p.qZA(),p.qZA(),p.qZA(),p.TgZ(47,"div",2),p.TgZ(48,"div",3),p.TgZ(49,"mat-form-field",4),p.TgZ(50,"mat-label"),p._uU(51,"Confirm Password"),p.qZA(),p._UZ(52,"input",14),p.YNc(53,F,2,1,"mat-error",7),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(54,$,2,0,"div",15),p.TgZ(55,"mat-dialog-actions",16),p.TgZ(56,"button",17),p.NdJ("click",function(){return e.close()}),p._uU(57,"Cancel"),p.qZA(),p.TgZ(58,"button",18),p.NdJ("click",function(){return e.createOrUpdate()}),p._uU(59,"Save"),p.qZA(),p.qZA()),2&t&&(p.Q6J("ngIf",e.isAdd),p.xp6(1),p.Q6J("ngIf",!e.isAdd),p.xp6(1),p.Q6J("formGroup",e.form),p.xp6(7),p.Q6J("ngForOf",e.roles),p.xp6(1),p.Q6J("ngIf",null==e.formErrors?null:e.formErrors.role_id),p.xp6(7),p.Q6J("ngIf",null==e.formErrors?null:e.formErrors.first_name),p.xp6(7),p.Q6J("ngIf",null==e.formErrors?null:e.formErrors.middle_name),p.xp6(7),p.Q6J("ngIf",null==e.formErrors?null:e.formErrors.last_name),p.xp6(7),p.Q6J("ngIf",null==e.formErrors?null:e.formErrors.email),p.xp6(1),p.Q6J("ngIf",!e.isAdd),p.xp6(7),p.Q6J("ngIf",null==e.formErrors?null:e.formErrors.password),p.xp6(7),p.Q6J("ngIf",null==e.formErrors?null:e.formErrors.password_confirmation),p.xp6(1),p.Q6J("ngIf",e.loader),p.xp6(2),p.Q6J("disabled",e.loader)("mat-dialog-close",!0),p.xp6(2),p.Q6J("disabled",!e.form.valid||e.loader))},directives:[_.O5,a.xY,f.JL,f.sg,q.KE,q.hX,v.gD,f.JJ,f.u,_.sg,T.Nt,f.Fj,a.H8,x.lW,a.ZT,a.uh,w.Hw,N.ey,q.TO,U.pW],pipes:[_.Ov],encapsulation:2}),t})();var L=r(1581);class M extends L.y{constructor(t){super(t)}}var B=r(69180),G=r(32789),z=r(33935);const P=["search"];function X(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"button",32),p.NdJ("click",function(){return p.CHM(t),p.oxw().clearSearch()}),p.TgZ(1,"mat-icon"),p._uU(2,"close"),p.qZA(),p.qZA()}}function W(t,e){1&t&&(p.TgZ(0,"mat-header-cell",33),p._uU(1," Role "),p.qZA())}function K(t,e){if(1&t&&(p.TgZ(0,"mat-cell"),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",null==t.role?null:t.role.name," ")}}function V(t,e){1&t&&(p.TgZ(0,"mat-header-cell",33),p._uU(1," First Name "),p.qZA())}function tt(t,e){if(1&t&&(p.TgZ(0,"mat-cell"),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",t.first_name," ")}}function et(t,e){1&t&&(p.TgZ(0,"mat-header-cell",33),p._uU(1," Last Name "),p.qZA())}function rt(t,e){if(1&t&&(p.TgZ(0,"mat-cell"),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",t.last_name," ")}}function ot(t,e){1&t&&(p.TgZ(0,"mat-header-cell"),p._uU(1," Email "),p.qZA())}function at(t,e){if(1&t&&(p.TgZ(0,"mat-cell"),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",t.email," ")}}function it(t,e){1&t&&(p.TgZ(0,"mat-header-cell"),p._uU(1," Actions "),p.qZA())}function nt(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"mat-cell",34),p.TgZ(1,"button",35),p.TgZ(2,"mat-icon"),p._uU(3,"more_vert"),p.qZA(),p.qZA(),p.TgZ(4,"mat-menu",null,36),p.TgZ(6,"button",37),p.NdJ("click",function(){const e=p.CHM(t).$implicit;return p.oxw().addDialog(!1,e)}),p.TgZ(7,"mat-icon",38),p._uU(8,"edit"),p.qZA(),p.TgZ(9,"span"),p._uU(10,"Edit"),p.qZA(),p.qZA(),p.TgZ(11,"button",37),p.NdJ("click",function(){const e=p.CHM(t).$implicit;return p.oxw().openConfirmationDialog(e)}),p.TgZ(12,"mat-icon",39),p._uU(13,"delete"),p.qZA(),p.TgZ(14,"span"),p._uU(15,"Delete"),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=p.MAs(5);p.xp6(1),p.Q6J("matMenuTriggerFor",t)}}function st(t,e){1&t&&p._UZ(0,"mat-header-row")}function lt(t,e){1&t&&p._UZ(0,"mat-row")}function ct(t,e){1&t&&(p.TgZ(0,"span"),p._uU(1,"No Data"),p.qZA())}function mt(t,e){1&t&&(p.TgZ(0,"div",40),p._UZ(1,"mat-progress-bar",41),p.qZA())}const ut=o.Bz.forChild([{path:"",component:(()=>{class t{constructor(t,e,r,o){this.service=t,this.notification=e,this.roleService=r,this.dialog=o,this.displayedColumns=["role_id","first_name","last_name","email","actions"],this.loader=!1,this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.roles=[]}ngOnInit(){this.dataSource=new M(this.service),this.dataSource.meta$.subscribe(t=>this.meta=t),this.dataSource.load("",0,0,"updated_at","desc"),this.roleService.list("name").subscribe(t=>this.roles=t,()=>this.roles=[])}addDialog(t=!0,e){const r=new a.vA;r.disableClose=!0,r.autoFocus=!0,r.data={user:e,isAdd:t,roles:this.roles},r.width="550px",r.minHeight="500px",this.dialog.open(H,r).afterClosed().subscribe(t=>{t&&this.loadData()})}loadData(){this.dataSource.load(this.search.nativeElement.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction)}ngAfterViewInit(){(0,l.R)(this.search.nativeElement,"keyup").pipe((0,m.b)(1e3),(0,u.x)(),(0,d.b)(()=>{this.paginator.pageIndex=0,this.loadData()})).subscribe(),this.paginator.page.pipe((0,d.b)(()=>this.loadData())).subscribe(),this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,c.T)(this.sort.sortChange,this.paginator.page).pipe((0,d.b)(()=>this.loadData())).subscribe()}openConfirmationDialog(t){this.dialogRef=this.dialog.open(s.z,{disableClose:!0}),this.dialogRef.afterClosed().subscribe(e=>{e&&this.delete(t),this.dialogRef=null})}delete(t){this.loader=!0,this.service.delete(t).subscribe(t=>{this.loader=!1,this.loadData(),this.notification.showNotification("success","Success !! User has been deleted.")},t=>{var e;this.loader=!1,this.notification.showNotification("danger",t.error.error?"Delete Error !! ":null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.message)})}clearSearch(){this.search.nativeElement.value="",this.loadData()}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(b.f),p.Y36(A.g),p.Y36(B.k),p.Y36(a.uw))},t.\u0275cmp=p.Xpm({type:t,selectors:[["robi-user-general-setting"]],viewQuery:function(t,e){if(1&t&&(p.Gf(P,7),p.Gf(i.NW,7),p.Gf(n.YE,7)),2&t){let t;p.iGM(t=p.CRH())&&(e.search=t.first),p.iGM(t=p.CRH())&&(e.paginator=t.first),p.iGM(t=p.CRH())&&(e.sort=t.first)}},decls:45,vars:15,consts:[[1,"row"],[1,"fab-container"],["mat-fab","",1,"fab-toggler",3,"click"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","search-form-section"],[1,"col-3"],["mat-button","","matPrefix","","mat-stroked-button","","aria-label","add new",3,"disabled","click"],[1,"col-9"],[1,"search-form-field"],["matInput","","placeholder","Filter","autocomplete","off",3,"disabled"],["search",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"table-responsive"],["matSort","","matSortActive","first_name","matSortDirection","asc","matSortDisableClear","",3,"dataSource"],["table",""],["matColumnDef","role_id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","first_name"],["matColumnDef","last_name"],["matColumnDef","email"],[4,"matHeaderCellDef"],["matColumnDef","actions"],["class","button-row",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSizeOptions"],["pagination",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],[1,"button-row"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["color","accent"],["color","warn"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(t,e){if(1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"button",2),p.NdJ("click",function(){return e.addDialog()}),p.TgZ(3,"mat-icon"),p._uU(4,"add"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(5,"div",3),p.TgZ(6,"div",4),p.TgZ(7,"div",5),p.TgZ(8,"div",6),p.TgZ(9,"div",7),p.TgZ(10,"button",8),p.NdJ("click",function(){return e.addDialog()}),p.ALo(11,"async"),p.TgZ(12,"mat-icon"),p._uU(13,"add"),p.qZA(),p._uU(14," New User "),p.qZA(),p.qZA(),p.TgZ(15,"div",9),p.TgZ(16,"mat-form-field",10),p._UZ(17,"input",11,12),p.YNc(19,X,3,0,"button",13),p.qZA(),p.qZA(),p.qZA(),p.TgZ(20,"div",14),p.TgZ(21,"mat-table",15,16),p.ynx(23,17),p.YNc(24,W,2,0,"mat-header-cell",18),p.YNc(25,K,2,1,"mat-cell",19),p.BQk(),p.ynx(26,20),p.YNc(27,V,2,0,"mat-header-cell",18),p.YNc(28,tt,2,1,"mat-cell",19),p.BQk(),p.ynx(29,21),p.YNc(30,et,2,0,"mat-header-cell",18),p.YNc(31,rt,2,1,"mat-cell",19),p.BQk(),p.ynx(32,22),p.YNc(33,ot,2,0,"mat-header-cell",23),p.YNc(34,at,2,1,"mat-cell",19),p.BQk(),p.ynx(35,24),p.YNc(36,it,2,0,"mat-header-cell",23),p.YNc(37,nt,16,1,"mat-cell",25),p.BQk(),p.YNc(38,st,1,0,"mat-header-row",26),p.YNc(39,lt,1,0,"mat-row",27),p.qZA(),p.YNc(40,ct,2,0,"span",28),p.YNc(41,mt,2,0,"div",29),p.ALo(42,"async"),p._UZ(43,"mat-paginator",30,31),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=p.MAs(18);p.xp6(10),p.Q6J("disabled",p.lcZ(11,11,null==e.dataSource?null:e.dataSource.loading$)),p.xp6(7),p.Q6J("disabled",0===(null==e.meta?null:e.meta.total)),p.xp6(2),p.Q6J("ngIf",t.value),p.xp6(2),p.Q6J("dataSource",e.dataSource),p.xp6(17),p.Q6J("matHeaderRowDef",e.displayedColumns),p.xp6(1),p.Q6J("matRowDefColumns",e.displayedColumns),p.xp6(1),p.Q6J("ngIf",0===(null==e.meta?null:e.meta.total)),p.xp6(1),p.Q6J("ngIf",p.lcZ(42,13,null==e.dataSource?null:e.dataSource.loading$)||e.loader),p.xp6(2),p.Q6J("length",null==e.meta?null:e.meta.total)("pageIndex",e.pageIndex)("pageSizeOptions",e.pageSizeOptions)}},directives:[x.lW,w.Hw,q.qo,q.KE,T.Nt,_.O5,G.BZ,n.YE,G.w1,G.fO,G.Dz,G.as,G.nj,i.NW,q.R9,G.ge,n.nU,G.ev,z.p6,z.VK,z.OP,G.XQ,G.Gk,U.pW],pipes:[_.Ov],styles:[""]}),t})()}]);var dt=r(83893);let ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[dt.m,ut]]}),t})()},1581:function(t,e,r){r.d(e,{y:function(){return s}});var o=r(26215),a=r(25917),i=r(5304),n=r(68939);class s{constructor(t){this.service=t,this.dataSubject=new o.X([]),this.loadingSubject=new o.X(!1),this.loading$=this.loadingSubject.asObservable(),this.metaSubject=new o.X({}),this.meta$=this.metaSubject.asObservable()}load(t,e,r,o="",s="",l="",c=""){this.loadingSubject.next(!0),this.service.getAll(t,e,r,o,s,l,c).pipe((0,i.K)(()=>(0,a.of)([])),(0,n.x)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.dataSubject.next(t.data),this.metaSubject.next(t.meta)})}loadNested(t,e,r,o,s="",l="",c="",m=""){this.loadingSubject.next(!0),this.service.getNested(t,e,r,o,s,l,c,m).pipe((0,i.K)(()=>(0,a.of)([])),(0,n.x)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.dataSubject.next(t.data),this.metaSubject.next(t.meta)})}connect(t){return this.dataSubject.asObservable()}disconnect(t){this.dataSubject.complete(),this.loadingSubject.complete()}}}}]);