!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[186],{66957:function(r,i,a){a.r(i),a.d(i,{EmailConfigSettingModule:function(){return y}});var o=a(39895),n=a(99692),s=a(11494),l=a(3679),m=a(37716),d=a(86710),u=a(95270),f=a(57404),p=a(90171),c=a(98295),Z=a(49983),g=a(38583),h=a(51095),v=a(12178),q=["search"];function A(e,t){1&e&&(m.TgZ(0,"div",16),m._UZ(1,"mat-progress-bar",17),m.qZA())}var T,b=o.Bz.forChild([{path:"",component:(T=function(){function r(t,i,a,o,n){e(this,r),this.store=t,this.fb=i,this.route=a,this.emailConfigService=o,this.notification=n,this.loader=!1,this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.roles=[],this.employees=[],this.branches=[],this.form=this.fb.group({driver:["",[l.kI.required,l.kI.minLength(2)]],host:["",[l.kI.required,l.kI.minLength(2)]],username:[""],password:[""],port:[""],from_address:[""],from_name:[""]}),this.smsConfigForm=this.fb.group({gateway:[{value:"",disabled:!0}],template:["",[l.kI.required,l.kI.minLength(2)]],body:[""],tags:[{value:"",disabled:!0}]})}var i,a,o;return i=r,(a=[{key:"ngOnInit",value:function(){this.route.snapshot.data.setting&&this.prePopulateForm(this.route.snapshot.data.setting)}},{key:"prePopulateForm",value:function(e){this.setting=e,this.form.patchValue({driver:this.setting.driver,host:this.setting.host,username:this.setting.username,password:this.setting.password,port:this.setting.port,from_address:this.setting.from_address,from_name:this.setting.from_name})}},{key:"onSubmit",value:function(){}},{key:"update",value:function(){var e=this,t=Object.assign({},this.setting,this.form.value);(new FormData).append("id",t.id),this.loader=!0,this.emailConfigService.create(t).subscribe(function(t){e.loader=!1,e.notification.showNotification("success","Success !! Email Config Setting has been updated.")},function(t){var r;if(e.loader=!1,0!==t.payment&&(e.formErrors=t,e.formErrors))for(var i in e.formErrors)e.form&&(null===(r=e.form.controls[i])||void 0===r||r.markAsTouched(),e.form.controls[i].setErrors({incorrect:!0}))})}}])&&t(i.prototype,a),o&&t(i,o),r}(),T.\u0275fac=function(e){return new(e||T)(m.Y36(d.yh),m.Y36(l.qu),m.Y36(o.gz),m.Y36(u.x),m.Y36(f.g))},T.\u0275cmp=m.Xpm({type:T,selectors:[["robi-email-general-setting"]],viewQuery:function(e,t){var r;1&e&&(m.Gf(q,7),m.Gf(n.NW,7),m.Gf(s.YE,7)),2&e&&(m.iGM(r=m.CRH())&&(t.search=r.first),m.iGM(r=m.CRH())&&(t.paginator=r.first),m.iGM(r=m.CRH())&&(t.sort=r.first))},decls:56,vars:4,consts:[[1,"row"],[1,"col-md-12"],[3,"expanded"],[3,"formGroup"],["color","primary","appearance","outline",1,"full-width"],["matInput","","placeholder","Mail Driver","formControlName","driver"],["matInput","","placeholder","Mail Host","formControlName","host"],["matInput","","placeholder","Mail Username","formControlName","username"],["matInput","","placeholder","Mail Password","formControlName","password"],["matInput","","placeholder","Mail Port","formControlName","port"],["matInput","","placeholder","Mail From Address","formControlName","from_address"],["matInput","","placeholder","Mail From Name","formControlName","from_name"],[1,"divider","divider-md"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["mat-raised-button","","type","submit","color","accent",1,"btn","pull-right",3,"disabled","click"],[1,"clearfix"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"mat-accordion"),m.TgZ(3,"mat-expansion-panel",2),m.TgZ(4,"mat-expansion-panel-header"),m.TgZ(5,"mat-panel-title"),m._uU(6," Email Config "),m.qZA(),m.qZA(),m.TgZ(7,"form",3),m.TgZ(8,"div",0),m.TgZ(9,"div",1),m.TgZ(10,"mat-form-field",4),m.TgZ(11,"mat-label"),m._uU(12,"Mail Driver"),m.qZA(),m._UZ(13,"input",5),m.qZA(),m.qZA(),m.qZA(),m.TgZ(14,"div",0),m.TgZ(15,"div",1),m.TgZ(16,"mat-form-field",4),m.TgZ(17,"mat-label"),m._uU(18,"Mail Host"),m.qZA(),m._UZ(19,"input",6),m.qZA(),m.qZA(),m.qZA(),m.TgZ(20,"div",0),m.TgZ(21,"div",1),m.TgZ(22,"mat-form-field",4),m.TgZ(23,"mat-label"),m._uU(24,"Mail Username"),m.qZA(),m._UZ(25,"input",7),m.qZA(),m.qZA(),m.qZA(),m.TgZ(26,"div",0),m.TgZ(27,"div",1),m.TgZ(28,"mat-form-field",4),m.TgZ(29,"mat-label"),m._uU(30,"Mail Password"),m.qZA(),m._UZ(31,"input",8),m.qZA(),m.qZA(),m.qZA(),m.TgZ(32,"div",0),m.TgZ(33,"div",1),m.TgZ(34,"mat-form-field",4),m.TgZ(35,"mat-label"),m._uU(36,"Mail Port"),m.qZA(),m._UZ(37,"input",9),m.qZA(),m.qZA(),m.qZA(),m.TgZ(38,"div",0),m.TgZ(39,"div",1),m.TgZ(40,"mat-form-field",4),m.TgZ(41,"mat-label"),m._uU(42,"Mail From Address"),m.qZA(),m._UZ(43,"input",10),m.qZA(),m.qZA(),m.qZA(),m.TgZ(44,"div",0),m.TgZ(45,"div",1),m.TgZ(46,"mat-form-field",4),m.TgZ(47,"mat-label"),m._uU(48,"Mail From Name"),m.qZA(),m._UZ(49,"input",11),m.qZA(),m.qZA(),m.qZA(),m._UZ(50,"div",12),m.YNc(51,A,2,0,"div",13),m.TgZ(52,"div"),m.TgZ(53,"button",14),m.NdJ("click",function(){return t.update()}),m._uU(54,"Update Settings"),m.qZA(),m.qZA(),m._UZ(55,"div",15),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(3),m.Q6J("expanded",!0),m.xp6(4),m.Q6J("formGroup",t.form),m.xp6(44),m.Q6J("ngIf",t.loader),m.xp6(2),m.Q6J("disabled",!t.form.valid||t.loader))},directives:[p.pp,p.ib,p.yz,p.yK,l._Y,l.JL,l.sg,c.KE,c.hX,Z.Nt,l.Fj,l.JJ,l.u,g.O5,h.lW,v.pW],styles:[""]}),T)}]),_=a(83893),y=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[_.m,b]]}),t}()}}])}();