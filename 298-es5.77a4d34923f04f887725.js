!function(){"use strict";function r(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function o(r,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function e(r,e,t){return e&&o(r.prototype,e),t&&o(r,t),r}function t(r,o){return(t=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(r,o)}function n(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}();return function(){var e,t=i(r);if(o){var n=i(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)}}function a(r,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r)}function i(r){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[298],{41298:function(o,a,i){i.r(a),i.d(a,{UserProfileModule:function(){return R}});var l,s=i(39895),f=i(3679),u=i(2603),m=i(37716),c=i(86710),d=i(26215),p=i(65),Z=i(91841),g=((l=function(o){!function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),o&&t(r,o)}(i,o);var a=n(i);function i(o){var e;return r(this,i),(e=a.call(this,o,"user_profile")).selectedUserProfileSource=new d.X(null),e.selectedUserProfileChanges$=e.selectedUserProfileSource.asObservable(),e.localHttpClient=o,e}return e(i,[{key:"changeSelectedUserProfile",value:function(r){this.selectedUserProfileSource.next(r)}}]),i}(p.b)).\u0275fac=function(r){return new(r||l)(m.LFG(Z.eN))},l.\u0275prov=m.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l),_=i(57404),h=i(98295),q=i(49983),v=i(38583),A=i(12178);function T(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.role)}}function y(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.first_name)}}function w(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.middle_name)}}function b(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.last_name)}}function U(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.email)}}function E(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.phone)}}function x(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.country)}}function N(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.city)}}function I(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.state)}}function P(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.physical_address)}}function C(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.postal_address)}}function O(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.postal_code)}}function J(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.current_password)}}function Y(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.password)}}function Q(r,o){if(1&r&&(m.TgZ(0,"mat-error",31),m._uU(1),m.qZA()),2&r){var e=m.oxw();m.xp6(1),m.Oqu(e.formErrors.password_confirmation)}}function k(r,o){1&r&&(m.TgZ(0,"div",32),m._UZ(1,"mat-progress-bar",33),m.qZA())}var S=s.Bz.forChild([{path:"",component:function(){var o=function(){function o(e,t,n,a,i){r(this,o),this.store=e,this.fb=t,this.route=n,this.userProfileService=a,this.notification=i,this.loader=!1,this.form=this.fb.group({role:[{value:"",disabled:!0}],first_name:["",[f.kI.required,f.kI.minLength(2)]],middle_name:[""],last_name:[""],email:[""],phone:[""],country:[""],city:[""],state:[""],physical_address:[""],postal_address:[""],postal_code:[""],current_password:[""],password:[""],password_confirmation:[""]})}return e(o,[{key:"ngOnInit",value:function(){this.route.snapshot.data.profile&&(this.profile=this.route.snapshot.data.profile,this.prePopulateForm(this.profile))}},{key:"prePopulateForm",value:function(r){var o,e;this.profile=r,this.form.patchValue({role:null===(e=null===(o=this.profile)||void 0===o?void 0:o.role)||void 0===e?void 0:e.display_name,first_name:this.profile.first_name,middle_name:this.profile.middle_name,last_name:this.profile.last_name,email:this.profile.email,phone:this.profile.phone,country:this.profile.country,city:this.profile.city,state:this.profile.state,physical_address:this.profile.physical_address,postal_address:this.profile.postal_address,postal_code:this.profile.postal_code})}},{key:"update",value:function(){var r=this,o=Object.assign({},this.profile,this.form.value);this.loader=!0,this.userProfileService.update(o).subscribe(function(o){r.loader=!1,r.notification.showNotification("success","Success !! User Profile has been updated."),r.store.dispatch(u.u.actionLogout())},function(o){var e;if(r.loader=!1,0!==o.payment&&(r.formErrors=o,r.formErrors))for(var t in r.formErrors)r.form&&(null===(e=r.form.controls[t])||void 0===e||e.markAsTouched(),r.form.controls[t].setErrors({incorrect:!0}))})}}]),o}();return o.\u0275fac=function(r){return new(r||o)(m.Y36(c.yh),m.Y36(f.qu),m.Y36(s.gz),m.Y36(g),m.Y36(_.g))},o.\u0275cmp=m.Xpm({type:o,selectors:[["robi-user-profile"]],decls:114,vars:18,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],["color","accent",1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body",3,"formGroup","ngSubmit"],[1,"col-12"],["color","primary","appearance","outline",1,"full-width"],["matInput","","formControlName","role","placeholder","Role"],["align","start","class","form__error",4,"ngIf"],[1,"col-6"],["matInput","","formControlName","first_name","placeholder","First Name"],["matInput","","formControlName","middle_name","placeholder","Middle Name"],["matInput","","formControlName","last_name","placeholder","Last Name"],["matInput","","formControlName","email","placeholder","Email"],["matInput","","formControlName","phone","placeholder","Phone"],["matInput","","formControlName","country","placeholder","Country"],["matInput","","formControlName","city","placeholder","City"],["matInput","","formControlName","state","placeholder","State"],["matInput","","formControlName","physical_address","placeholder","Physical Address"],["matInput","","formControlName","postal_address","placeholder","Postal Address"],["matInput","","formControlName","postal_code","placeholder","Postal Code"],[1,"col-md-4"],["matInput","","formControlName","current_password","type","password","placeholder","Current Password"],["matInput","","formControlName","password","type","password","placeholder","New Password"],["matInput","","formControlName","password_confirmation","type","password","placeholder","Confirm New Password"],["class","d-flex justify-content-center spinner-container mb-2",4,"ngIf"],[1,"btn","mat-raised-button","mat-primary","pull-right",3,"disabled","click"],["align","start",1,"form__error"],[1,"d-flex","justify-content-center","spinner-container","mb-2"],["color","primary","mode","query","value","50","bufferValue","75"]],template:function(r,o){1&r&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"div",4),m.TgZ(5,"div",5),m.TgZ(6,"h4",6),m._uU(7,"Edit Profile"),m.qZA(),m.TgZ(8,"p",7),m._uU(9,"Complete your profile"),m.qZA(),m.qZA(),m.TgZ(10,"div",8),m.NdJ("ngSubmit",function(){return o.update()}),m.TgZ(11,"div",2),m.TgZ(12,"div",9),m.TgZ(13,"mat-form-field",10),m.TgZ(14,"mat-label"),m._uU(15,"Role"),m.qZA(),m._UZ(16,"input",11),m.YNc(17,T,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(18,"div",2),m.TgZ(19,"div",13),m.TgZ(20,"mat-form-field",10),m.TgZ(21,"mat-label"),m._uU(22,"First Name"),m.qZA(),m._UZ(23,"input",14),m.YNc(24,y,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(25,"div",13),m.TgZ(26,"mat-form-field",10),m.TgZ(27,"mat-label"),m._uU(28,"Middle Name"),m.qZA(),m._UZ(29,"input",15),m.YNc(30,w,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(31,"div",2),m.TgZ(32,"div",13),m.TgZ(33,"mat-form-field",10),m.TgZ(34,"mat-label"),m._uU(35,"Last Name"),m.qZA(),m._UZ(36,"input",16),m.YNc(37,b,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(38,"div",13),m.TgZ(39,"mat-form-field",10),m.TgZ(40,"mat-label"),m._uU(41,"Email"),m.qZA(),m._UZ(42,"input",17),m.YNc(43,U,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(44,"div",2),m.TgZ(45,"div",13),m.TgZ(46,"mat-form-field",10),m.TgZ(47,"mat-label"),m._uU(48,"Phone"),m.qZA(),m._UZ(49,"input",18),m.YNc(50,E,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(51,"div",13),m.TgZ(52,"mat-form-field",10),m.TgZ(53,"mat-label"),m._uU(54,"Country"),m.qZA(),m._UZ(55,"input",19),m.YNc(56,x,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(57,"div",2),m.TgZ(58,"div",13),m.TgZ(59,"mat-form-field",10),m.TgZ(60,"mat-label"),m._uU(61,"City"),m.qZA(),m._UZ(62,"input",20),m.YNc(63,N,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(64,"div",13),m.TgZ(65,"mat-form-field",10),m.TgZ(66,"mat-label"),m._uU(67,"State"),m.qZA(),m._UZ(68,"input",21),m.YNc(69,I,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(70,"div",2),m.TgZ(71,"div",9),m.TgZ(72,"mat-form-field",10),m.TgZ(73,"mat-label"),m._uU(74,"Physical Address"),m.qZA(),m._UZ(75,"input",22),m.YNc(76,P,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(77,"div",2),m.TgZ(78,"div",9),m.TgZ(79,"mat-form-field",10),m.TgZ(80,"mat-label"),m._uU(81,"Postal Address"),m.qZA(),m._UZ(82,"input",23),m.YNc(83,C,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(84,"div",2),m.TgZ(85,"div",9),m.TgZ(86,"mat-form-field",10),m.TgZ(87,"mat-label"),m._uU(88,"Postal Code"),m.qZA(),m._UZ(89,"input",24),m.YNc(90,O,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.TgZ(91,"div",2),m.TgZ(92,"div",25),m.TgZ(93,"mat-form-field",10),m.TgZ(94,"mat-label"),m._uU(95,"Current Password"),m.qZA(),m._UZ(96,"input",26),m.YNc(97,J,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(98,"div",25),m.TgZ(99,"mat-form-field",10),m.TgZ(100,"mat-label"),m._uU(101,"New Password"),m.qZA(),m._UZ(102,"input",27),m.YNc(103,Y,2,1,"mat-error",12),m.qZA(),m.qZA(),m.TgZ(104,"div",25),m.TgZ(105,"mat-form-field",10),m.TgZ(106,"mat-label"),m._uU(107,"Confirm New Password"),m.qZA(),m._UZ(108,"input",28),m.YNc(109,Q,2,1,"mat-error",12),m.qZA(),m.qZA(),m.qZA(),m.YNc(110,k,2,0,"div",29),m.TgZ(111,"button",30),m.NdJ("click",function(){return o.update()}),m._uU(112,"Update Profile"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m._UZ(113,"div",25),m.qZA(),m.qZA(),m.qZA()),2&r&&(m.xp6(10),m.Q6J("formGroup",o.form),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.role),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.first_name),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.middle_name),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.last_name),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.email),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.phone),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.country),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.city),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.state),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.physical_address),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.postal_address),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.postal_code),m.xp6(7),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.current_password),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.password),m.xp6(6),m.Q6J("ngIf",null==o.formErrors?null:o.formErrors.password_confirmation),m.xp6(1),m.Q6J("ngIf",o.loader),m.xp6(1),m.Q6J("disabled",!o.form.valid||o.loader))},directives:[f.JL,f.sg,h.KE,h.hX,q.Nt,f.Fj,f.JJ,f.u,v.O5,h.TO,A.pW],styles:[""]}),o}(),resolve:{profile:function(){var o=function(){function o(e){r(this,o),this.userProfileService=e}return e(o,[{key:"resolve",value:function(r,o){return this.userProfileService.getAll("",1,1)}}]),o}();return o.\u0275fac=function(r){return new(r||o)(m.LFG(g))},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o}()}}]),j=i(83893),R=function(){var o=function o(){r(this,o)};return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=m.oAB({type:o}),o.\u0275inj=m.cJS({imports:[[j.m,S]]}),o}()}}])}();