!function(){"use strict";function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[954],{14954:function(t,n,o){o.r(n),o.d(n,{LeaseGeneralSettingModule:function(){return w}});var r=o(39895),a=o(99692),s=o(11494),l=o(3679),u=o(86710),c=o(8606),m=o(37716),d=o(85996),f=o(57404),g=o(98295),v=o(49983),_=o(67441),p=o(38583),h=o(7539),Z=o(51095),b=o(72458),T=o(12178),q=["search"];function A(e,i){if(1&e&&(m.TgZ(0,"mat-option",23),m._uU(1),m.qZA()),2&e){var t=i.$implicit;m.Q6J("value",t),m.xp6(1),m.hij(" ",t," ")}}function x(e,i){if(1&e&&(m.TgZ(0,"mat-error",24),m._uU(1),m.qZA()),2&e){var t=m.oxw();m.xp6(1),m.Oqu(t.formErrors.generate_invoice_on)}}function y(e,i){1&e&&(m.TgZ(0,"div",25),m._UZ(1,"mat-progress-bar",26),m.qZA())}var N,U=r.Bz.forChild([{path:"",component:(N=function(){function t(i,n,o,r,a){e(this,t),this.store=i,this.fb=n,this.route=o,this.leaseSettingService=r,this.notification=a,this.loader=!1,this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.roles=[],this.employees=[],this.branches=[],this.dueON=Array.from({length:28},function(e,i){return i+1}),this.color="accent",this.form=this.fb.group({lease_number_prefix:["",[l.kI.required]],next_lease_number:[""],invoice_number_prefix:[""],invoice_footer:[""],invoice_terms:[""],show_payment_method_on_invoice:[""],generate_invoice_on:[""],next_period_billing:[""],skip_starting_period:[""]})}var n,o,r;return n=t,(o=[{key:"ngOnInit",value:function(){this.settings$=this.store.pipe((0,u.Ys)(c.vi)),this.route.snapshot.data.leaseSetting&&(this.setting=this.route.snapshot.data.leaseSetting,this.prePopulateForm(this.setting),this.settingId=this.setting.id)}},{key:"prePopulateForm",value:function(e){var i,t,n,o,r,a,s,l,u,c;this.setting=e,this.form.patchValue({lease_number_prefix:null===(i=this.setting)||void 0===i?void 0:i.lease_number_prefix,next_lease_number:null===(t=this.setting)||void 0===t?void 0:t.next_lease_number,invoice_number_prefix:null===(n=this.setting)||void 0===n?void 0:n.invoice_number_prefix,invoice_footer:null===(o=this.setting)||void 0===o?void 0:o.invoice_footer,invoice_terms:null===(r=this.setting)||void 0===r?void 0:r.invoice_terms,show_payment_method_on_invoice:null===(a=this.setting)||void 0===a?void 0:a.show_payment_method_on_invoice,generate_invoice_on:null===(s=this.setting)||void 0===s?void 0:s.generate_invoice_on,next_period_billing:null===(l=this.setting)||void 0===l?void 0:l.next_period_billing,skip_starting_period:null===(u=this.setting)||void 0===u?void 0:u.skip_starting_period}),this.nextPeriodBilling=null===(c=this.setting)||void 0===c?void 0:c.next_period_billing}},{key:"onSubmit",value:function(){}},{key:"update",value:function(){var e=this,i=Object.assign({},this.setting,this.form.value);(new FormData).append("id",i.id),this.loader=!0,this.leaseSettingService.update(i).subscribe(function(i){e.loader=!1,e.notification.showNotification("success","Success !! Lease Setting has been updated.")},function(i){var t;if(e.loader=!1,0!==i.payment&&(e.formErrors=i,e.formErrors))for(var n in e.formErrors)e.form&&(null===(t=e.form.controls[n])||void 0===t||t.markAsTouched(),e.form.controls[n].setErrors({incorrect:!0}))})}}])&&i(n.prototype,o),r&&i(n,r),t}(),N.\u0275fac=function(e){return new(e||N)(m.Y36(u.yh),m.Y36(l.qu),m.Y36(r.gz),m.Y36(d.G),m.Y36(f.g))},N.\u0275cmp=m.Xpm({type:N,selectors:[["robi-lease-general-setting"]],viewQuery:function(e,i){var t;1&e&&(m.Gf(q,7),m.Gf(a.NW,7),m.Gf(s.YE,7)),2&e&&(m.iGM(t=m.CRH())&&(i.search=t.first),m.iGM(t=m.CRH())&&(i.paginator=t.first),m.iGM(t=m.CRH())&&(i.sort=t.first))},decls:62,vars:5,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],["color","primary","appearance","outline",1,"full-width"],["matInput","","placeholder","Lease Number Prefix","formControlName","lease_number_prefix"],["matInput","","placeholder","Invoice Number Prefix","formControlName","invoice_number_prefix"],["matInput","","placeholder","Invoice Footer","formControlName","invoice_footer"],["matInput","","placeholder","Invoice Terms","formControlName","invoice_terms"],[1,"col-12"],["formControlName","generate_invoice_on"],[3,"value",4,"ngFor","ngForOf"],["align","start","class","form__error",4,"ngIf"],[1,"col-12","mat-form-field","mt-3","mb-3"],["formControlName","show_payment_method_on_invoice"],["formControlName","next_period_billing"],[1,"col-12","mat-form-field"],["formControlName","skip_starting_period"],[1,"divider","divider-md"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["mat-raised-button","","type","submit","color","accent",1,"btn","pull-right",3,"disabled","click"],[1,"clearfix"],[3,"value"],["align","start",1,"form__error"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(e,i){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"form",4),m.NdJ("ngSubmit",function(){return i.onSubmit()}),m.TgZ(5,"div",0),m.TgZ(6,"div",1),m.TgZ(7,"mat-form-field",5),m.TgZ(8,"mat-label"),m._uU(9,"Lease Number Prefix"),m.qZA(),m._UZ(10,"input",6),m.qZA(),m.qZA(),m.qZA(),m.TgZ(11,"div",0),m.TgZ(12,"div",1),m.TgZ(13,"mat-form-field",5),m.TgZ(14,"mat-label"),m._uU(15,"Invoice Number Prefix"),m.qZA(),m._UZ(16,"input",7),m.qZA(),m.qZA(),m.qZA(),m.TgZ(17,"div",0),m.TgZ(18,"div",1),m.TgZ(19,"mat-form-field",5),m.TgZ(20,"mat-label"),m._uU(21,"Invoice Footer"),m.qZA(),m._UZ(22,"input",8),m.qZA(),m.qZA(),m.qZA(),m.TgZ(23,"div",0),m.TgZ(24,"div",1),m.TgZ(25,"mat-form-field",5),m.TgZ(26,"mat-label"),m._uU(27,"Invoice Terms"),m.qZA(),m._UZ(28,"input",9),m.qZA(),m.qZA(),m.qZA(),m.TgZ(29,"div",0),m.TgZ(30,"div",10),m.TgZ(31,"mat-form-field",5),m.TgZ(32,"mat-label"),m._uU(33,"Generate Invoice On (Day of Month)"),m.qZA(),m.TgZ(34,"mat-select",11),m.YNc(35,A,2,2,"mat-option",12),m.qZA(),m.TgZ(36,"mat-hint"),m._uU(37,"Day of each month when invoices are generated and sent to tenants."),m.qZA(),m.YNc(38,x,2,1,"mat-error",13),m.qZA(),m.qZA(),m.qZA(),m.TgZ(39,"div",14),m.TgZ(40,"mat-checkbox",15),m._uU(41," Show Payment Methods On Invoice "),m.qZA(),m.qZA(),m.TgZ(42,"div",14),m.TgZ(43,"mat-checkbox",16),m._uU(44," Next Period Billing "),m.qZA(),m.TgZ(45,"div"),m.TgZ(46,"mat-hint"),m.TgZ(47,"small"),m._uU(48,"When billing, invoice period is set as next month."),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(49,"div",17),m.TgZ(50,"mat-checkbox",18),m._uU(51," Skip Starting Period "),m.qZA(),m.TgZ(52,"div"),m.TgZ(53,"mat-hint"),m.TgZ(54,"small"),m._uU(55,"For new lease, do not bill the first period."),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m._UZ(56,"div",19),m.YNc(57,y,2,0,"div",20),m.TgZ(58,"div"),m.TgZ(59,"button",21),m.NdJ("click",function(){return i.update()}),m._uU(60,"Update Settings"),m.qZA(),m.qZA(),m._UZ(61,"div",22),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(4),m.Q6J("formGroup",i.form),m.xp6(31),m.Q6J("ngForOf",i.dueON),m.xp6(3),m.Q6J("ngIf",null==i.formErrors?null:i.formErrors.generate_invoice_on),m.xp6(19),m.Q6J("ngIf",i.loader),m.xp6(2),m.Q6J("disabled",!i.form.valid||i.loader))},directives:[l._Y,l.JL,l.sg,g.KE,g.hX,v.Nt,l.Fj,l.JJ,l.u,_.gD,p.sg,g.bx,p.O5,h.oG,Z.lW,b.ey,g.TO,T.pW],styles:[""]}),N)}]),k=o(83893),w=function(){var i=function i(){e(this,i)};return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[k.m,U]]}),i}()}}])}();