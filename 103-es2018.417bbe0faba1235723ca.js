"use strict";(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[103],{62103:function(e,t,a){a.r(t),a.d(t,{LeaseTypeSettingModule:function(){return P}});var i=a(83893),o=a(39895),r=a(22238),s=a(99692),n=a(11494),l=a(28292),c=a(22759),d=a(66682),u=a(54395),m=a(87519),p=a(68307),f=a(3679),h=a(26215),g=a(37716),Z=a(32715),_=a(57404),b=a(38583),y=a(98295),T=a(49983),A=a(51095),v=a(76627),x=a(12178);function q(e,t){1&e&&(g.ynx(0),g.TgZ(1,"mat-icon",18),g._uU(2,"error_outline"),g.qZA(),g.BQk())}function S(e,t){if(1&e&&(g.TgZ(0,"h5",16),g._uU(1,"New Lease Type "),g.YNc(2,q,3,0,"ng-container",17),g.ALo(3,"async"),g.qZA()),2&e){const e=g.oxw();g.xp6(2),g.Q6J("ngIf",g.lcZ(3,1,e.formError$))}}function w(e,t){1&e&&(g.ynx(0),g.TgZ(1,"mat-icon",18),g._uU(2,"error_outline"),g.qZA(),g.BQk())}function N(e,t){if(1&e&&(g.TgZ(0,"h5",16),g._uU(1,"Edit Lease Type "),g.YNc(2,w,3,0,"ng-container",17),g.ALo(3,"async"),g.qZA()),2&e){const e=g.oxw();g.xp6(2),g.Q6J("ngIf",g.lcZ(3,1,e.formError$))}}function I(e,t){if(1&e&&(g.TgZ(0,"mat-error",19),g._uU(1),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Oqu(e.formErrors.lease_type_name)}}function U(e,t){if(1&e&&(g.TgZ(0,"mat-error",19),g._uU(1),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Oqu(e.formErrors.lease_type_display_name)}}function C(e,t){if(1&e&&(g.TgZ(0,"mat-error",19),g._uU(1),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Oqu(e.formErrors.lease_type_description)}}function D(e,t){1&e&&(g.TgZ(0,"div",20),g._UZ(1,"mat-progress-bar",21),g.qZA())}let E=(()=>{class e{constructor(e,t,a,i,o){this.fb=t,this.leaseTypeService=a,this.notification=i,this.dialogRef=o,this.errorInForm=new h.X(!1),this.formError$=this.errorInForm.asObservable(),this.loader=!1,this.isAdd=e.isAdd,this.leaseType=e.leaseType}ngOnInit(){var e,t,a;this.isAdd&&(this.form=this.fb.group({lease_type_name:["",[f.kI.required,f.kI.minLength(2)]],lease_type_display_name:[""],lease_type_description:[""]})),this.isAdd||(this.form=this.fb.group({lease_type_name:[null===(e=this.leaseType)||void 0===e?void 0:e.lease_type_name,[f.kI.required,f.kI.minLength(3)]],lease_type_display_name:[null===(t=this.leaseType)||void 0===t?void 0:t.lease_type_display_name],lease_type_description:[null===(a=this.leaseType)||void 0===a?void 0:a.lease_type_description]}))}create(){this.errorInForm.next(!1);const e=Object.assign({},this.leaseType,this.form.value);this.loader=!0,this.leaseTypeService.create(e).subscribe(e=>{this.onSaveComplete(),this.notification.showNotification("success","Success !! LeaseType created.")},e=>{var t,a;if(this.loader=!1,this.errorInForm.next(!0),this.formErrors=e,this.formErrors)for(const i in this.formErrors)this.form&&(null===(t=this.form.controls[i])||void 0===t||t.markAsTouched(),null===(a=this.form.controls[i])||void 0===a||a.setErrors({incorrect:!0}))})}update(){const e=Object.assign({},this.leaseType,this.form.value);delete e.membership_form,this.loader=!0,this.errorInForm.next(!1),this.leaseTypeService.update(e).subscribe(e=>{this.loader=!1,this.dialogRef.close(this.form.value),this.notification.showNotification("success","Success !! LeaseType has been updated.")},e=>{var t,a;if(this.loader=!1,this.errorInForm.next(!0),this.formErrors=e,this.formErrors)for(const i in this.formErrors)this.form&&(null===(t=this.form.controls[i])||void 0===t||t.markAsTouched(),null===(a=this.form.controls[i])||void 0===a||a.setErrors({incorrect:!0}))})}createOrUpdate(){this.isAdd?this.create():this.update()}close(){this.dialogRef.close()}onSaveComplete(){this.loader=!1,this.form.reset(),this.dialogRef.close(this.form.value)}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(r.WI),g.Y36(f.qu),g.Y36(Z.h),g.Y36(_.g),g.Y36(r.so))},e.\u0275cmp=g.Xpm({type:e,selectors:[["robi-add-lease-type"]],decls:32,vars:11,consts:[["mat-dialog-title","",4,"ngIf"],[1,"mat-dialog-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],["color","primary","appearance","outline",1,"full-width"],["matInput","","formControlName","lease_type_name","placeholder","Name"],["align","start","class","form__error",4,"ngIf"],["matInput","","formControlName","lease_type_display_name","placeholder","Display Name"],[1,"col-sm-12"],["formControlName","lease_type_description","matInput","","placeholder","Description","maxlength","150","rows","2"],["lease_type_description",""],["align","end"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["align","center"],["mat-button","","color","accent",1,"mr-2",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-dialog-title",""],[4,"ngIf"],["color","warn"],["align","start",1,"form__error"],[1,"d-flex","justify-content-center","spinner-container"],["color","primary","mode","query","value","50","bufferValue","75"]],template:function(e,t){if(1&e&&(g.YNc(0,S,4,3,"h5",0),g.YNc(1,N,4,3,"h5",0),g.TgZ(2,"mat-dialog-content",1),g.NdJ("ngSubmit",function(){return t.create()}),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"mat-form-field",4),g.TgZ(6,"mat-label"),g._uU(7,"Name"),g.qZA(),g._UZ(8,"input",5),g.YNc(9,I,2,1,"mat-error",6),g.qZA(),g.qZA(),g.TgZ(10,"div",3),g.TgZ(11,"mat-form-field",4),g.TgZ(12,"mat-label"),g._uU(13,"Display Name"),g.qZA(),g._UZ(14,"input",7),g.YNc(15,U,2,1,"mat-error",6),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"div",2),g.TgZ(17,"div",8),g.TgZ(18,"mat-form-field",4),g.TgZ(19,"mat-label"),g._uU(20,"Description"),g.qZA(),g._UZ(21,"textarea",9,10),g.TgZ(23,"mat-hint",11),g._uU(24),g.qZA(),g.YNc(25,C,2,1,"mat-error",6),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(26,D,2,0,"div",12),g.TgZ(27,"mat-dialog-actions",13),g.TgZ(28,"button",14),g.NdJ("click",function(){return t.close()}),g._uU(29,"Cancel"),g.qZA(),g.TgZ(30,"button",15),g.NdJ("click",function(){return t.createOrUpdate()}),g._uU(31,"Save"),g.qZA(),g.qZA()),2&e){const e=g.MAs(22);g.Q6J("ngIf",t.isAdd),g.xp6(1),g.Q6J("ngIf",!t.isAdd),g.xp6(1),g.Q6J("formGroup",t.form),g.xp6(7),g.Q6J("ngIf",null==t.formErrors?null:t.formErrors.lease_type_name),g.xp6(6),g.Q6J("ngIf",null==t.formErrors?null:t.formErrors.lease_type_display_name),g.xp6(9),g.hij("",e.value.length," / 150"),g.xp6(1),g.Q6J("ngIf",null==t.formErrors?null:t.formErrors.lease_type_description),g.xp6(1),g.Q6J("ngIf",t.loader),g.xp6(2),g.Q6J("disabled",t.loader)("mat-dialog-close",!0),g.xp6(2),g.Q6J("disabled",!t.form.valid||t.loader)}},directives:[b.O5,r.xY,f.JL,f.sg,y.KE,y.hX,T.Nt,f.Fj,f.JJ,f.u,f.nD,y.bx,r.H8,A.lW,r.ZT,r.uh,v.Hw,y.TO,x.pW],pipes:[b.Ov],encapsulation:2}),e})();var Y=a(1581);class J extends Y.y{constructor(e){super(e)}}var k=a(32789),j=a(33935);const Q=["search"];function O(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",29),g.NdJ("click",function(){return g.CHM(e),g.oxw().clearSearch()}),g.TgZ(1,"mat-icon"),g._uU(2,"close"),g.qZA(),g.qZA()}}function R(e,t){1&e&&(g.TgZ(0,"mat-header-cell",30),g._uU(1," Name "),g.qZA())}function F(e,t){if(1&e&&(g.TgZ(0,"mat-cell"),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.xp6(1),g.hij(" ",e.lease_type_name," ")}}function H(e,t){1&e&&(g.TgZ(0,"mat-header-cell",30),g._uU(1," Display Name "),g.qZA())}function L(e,t){if(1&e&&(g.TgZ(0,"mat-cell"),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.xp6(1),g.hij(" ",e.lease_type_display_name," ")}}function M(e,t){1&e&&(g.TgZ(0,"mat-header-cell"),g._uU(1," Description "),g.qZA())}function $(e,t){if(1&e&&(g.TgZ(0,"mat-cell"),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.xp6(1),g.hij(" ",e.lease_type_description," ")}}function B(e,t){1&e&&(g.TgZ(0,"mat-header-cell"),g._uU(1," Actions "),g.qZA())}function G(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"mat-cell",31),g.TgZ(1,"button",32),g.TgZ(2,"mat-icon"),g._uU(3,"more_vert"),g.qZA(),g.qZA(),g.TgZ(4,"mat-menu",null,33),g.TgZ(6,"button",34),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw().addDialog(!1,t)}),g.TgZ(7,"mat-icon",35),g._uU(8,"edit"),g.qZA(),g.TgZ(9,"span"),g._uU(10,"Edit"),g.qZA(),g.qZA(),g.TgZ(11,"button",34),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw().openConfirmationDialog(t)}),g.TgZ(12,"mat-icon",36),g._uU(13,"delete"),g.qZA(),g.TgZ(14,"span"),g._uU(15,"Delete"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.MAs(5);g.xp6(1),g.Q6J("matMenuTriggerFor",e)}}function z(e,t){1&e&&g._UZ(0,"mat-header-row")}function X(e,t){1&e&&g._UZ(0,"mat-row")}function W(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"No Data"),g.qZA())}function K(e,t){1&e&&(g.TgZ(0,"div",37),g._UZ(1,"mat-progress-bar",38),g.qZA())}const V=o.Bz.forChild([{path:"",component:(()=>{class e{constructor(e,t,a){this.leaseTypeService=e,this.notification=t,this.dialog=a,this.displayedColumns=["lease_type_name","lease_type_display_name","lease_type_description","actions"],this.loader=!1,this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100]}ngOnInit(){this.dataSource=new J(this.leaseTypeService),this.dataSource.meta$.subscribe(e=>this.meta=e),this.dataSource.load("",0,0,"lease_type_name","desc")}ngAfterViewInit(){(0,c.R)(this.search.nativeElement,"keyup").pipe((0,u.b)(1e3),(0,m.x)(),(0,p.b)(()=>{this.paginator.pageIndex=0,this.loadData()})).subscribe(),this.paginator.page.pipe((0,p.b)(()=>this.loadData())).subscribe(),this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,d.T)(this.sort.sortChange,this.paginator.page).pipe((0,p.b)(()=>this.loadData())).subscribe()}loadData(){this.dataSource.load(this.search.nativeElement.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction)}clearSearch(){this.search.nativeElement.value="",this.loadData()}addDialog(e=!0,t){const a=new r.vA;a.disableClose=!0,a.autoFocus=!0,a.data={leaseType:t,isAdd:e},this.dialog.open(E,a).afterClosed().subscribe(e=>{e&&this.loadData()})}openConfirmationDialog(e){this.dialogRef=this.dialog.open(l.z,{disableClose:!0}),this.dialogRef.afterClosed().subscribe(t=>{t&&this.delete(e),this.dialogRef=null})}delete(e){this.loader=!0,this.leaseTypeService.delete(e).subscribe(e=>{this.loader=!1,this.loadData(),this.notification.showNotification("success","Success !! LeaseType has been deleted.")},e=>{this.loader=!1,this.notification.showNotification("danger",e.error.message?e.error.message:"Delete Error !! ")})}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(Z.h),g.Y36(_.g),g.Y36(r.uw))},e.\u0275cmp=g.Xpm({type:e,selectors:[["robi-lease-type-setting"]],viewQuery:function(e,t){if(1&e&&(g.Gf(Q,5),g.Gf(s.NW,7),g.Gf(n.YE,7)),2&e){let e;g.iGM(e=g.CRH())&&(t.search=e.first),g.iGM(e=g.CRH())&&(t.paginator=e.first),g.iGM(e=g.CRH())&&(t.sort=e.first)}},decls:36,vars:12,consts:[[1,"row"],[1,"fab-container"],["mat-fab","",1,"fab-toggler",3,"click"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","search-form-section"],[1,"col-12"],[1,"search-form-field"],["matInput","","placeholder","Filter","autocomplete","off",3,"disabled"],["search",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"table-responsive"],["matSort","","matSortActive","lease_type_name","matSortDirection","asc","matSortDisableClear","",3,"dataSource"],["table",""],["matColumnDef","lease_type_name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","lease_type_display_name"],["matColumnDef","lease_type_description"],[4,"matHeaderCellDef"],["matColumnDef","actions"],["class","button-row",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSizeOptions"],["paginator",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],[1,"button-row"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["color","accent"],["color","warn"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(e,t){if(1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"button",2),g.NdJ("click",function(){return t.addDialog()}),g.TgZ(3,"mat-icon"),g._uU(4,"add"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"mat-form-field",8),g._UZ(11,"input",9,10),g.YNc(13,O,3,0,"button",11),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",12),g.TgZ(15,"mat-table",13,14),g.ynx(17,15),g.YNc(18,R,2,0,"mat-header-cell",16),g.YNc(19,F,2,1,"mat-cell",17),g.BQk(),g.ynx(20,18),g.YNc(21,H,2,0,"mat-header-cell",16),g.YNc(22,L,2,1,"mat-cell",17),g.BQk(),g.ynx(23,19),g.YNc(24,M,2,0,"mat-header-cell",20),g.YNc(25,$,2,1,"mat-cell",17),g.BQk(),g.ynx(26,21),g.YNc(27,B,2,0,"mat-header-cell",20),g.YNc(28,G,16,1,"mat-cell",22),g.BQk(),g.YNc(29,z,1,0,"mat-header-row",23),g.YNc(30,X,1,0,"mat-row",24),g.qZA(),g.YNc(31,W,2,0,"span",25),g.YNc(32,K,2,0,"div",26),g.ALo(33,"async"),g._UZ(34,"mat-paginator",27,28),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.MAs(12);g.xp6(11),g.Q6J("disabled",0===(null==t.meta?null:t.meta.total)),g.xp6(2),g.Q6J("ngIf",e.value),g.xp6(2),g.Q6J("dataSource",t.dataSource),g.xp6(14),g.Q6J("matHeaderRowDef",t.displayedColumns),g.xp6(1),g.Q6J("matRowDefColumns",t.displayedColumns),g.xp6(1),g.Q6J("ngIf",0===(null==t.meta?null:t.meta.total)),g.xp6(1),g.Q6J("ngIf",g.lcZ(33,10,null==t.dataSource?null:t.dataSource.loading$)||t.loader),g.xp6(2),g.Q6J("length",null==t.meta?null:t.meta.total)("pageIndex",t.pageIndex)("pageSizeOptions",t.pageSizeOptions)}},directives:[A.lW,v.Hw,y.KE,T.Nt,b.O5,k.BZ,n.YE,k.w1,k.fO,k.Dz,k.as,k.nj,s.NW,y.R9,k.ge,n.nU,k.ev,j.p6,j.VK,j.OP,k.XQ,k.Gk,x.pW],pipes:[b.Ov],styles:[""]}),e})()}]);let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[i.m,V]]}),e})()},1581:function(e,t,a){a.d(t,{y:function(){return n}});var i=a(26215),o=a(25917),r=a(5304),s=a(68939);class n{constructor(e){this.service=e,this.dataSubject=new i.X([]),this.loadingSubject=new i.X(!1),this.loading$=this.loadingSubject.asObservable(),this.metaSubject=new i.X({}),this.meta$=this.metaSubject.asObservable()}load(e,t,a,i="",n="",l="",c=""){this.loadingSubject.next(!0),this.service.getAll(e,t,a,i,n,l,c).pipe((0,r.K)(()=>(0,o.of)([])),(0,s.x)(()=>this.loadingSubject.next(!1))).subscribe(e=>{this.dataSubject.next(e.data),this.metaSubject.next(e.meta)})}loadNested(e,t,a,i,n="",l="",c="",d=""){this.loadingSubject.next(!0),this.service.getNested(e,t,a,i,n,l,c,d).pipe((0,r.K)(()=>(0,o.of)([])),(0,s.x)(()=>this.loadingSubject.next(!1))).subscribe(e=>{this.dataSubject.next(e.data),this.metaSubject.next(e.meta)})}connect(e){return this.dataSubject.asObservable()}disconnect(e){this.dataSubject.complete(),this.loadingSubject.complete()}}}}]);