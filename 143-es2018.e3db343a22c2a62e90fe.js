"use strict";(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[143],{12143:function(t,e,a){a.r(e),a.d(e,{PaymentMethodSettingModule:function(){return W}});var o=a(39895),i=a(22238),n=a(99692),r=a(11494),s=a(28292),l=a(22759),c=a(66682),d=a(54395),m=a(87519),u=a(68307),h=a(3679),p=a(26215),f=a(37716),g=a(88539),Z=a(57404),b=a(38583),_=a(98295),y=a(49983),v=a(51095),A=a(76627),x=a(12178);function q(t,e){1&t&&(f.ynx(0),f.TgZ(1,"mat-icon",18),f._uU(2,"error_outline"),f.qZA(),f.BQk())}function T(t,e){if(1&t&&(f.TgZ(0,"h5",16),f._uU(1,"New Payment Method "),f.YNc(2,q,3,0,"ng-container",17),f.ALo(3,"async"),f.qZA()),2&t){const t=f.oxw();f.xp6(2),f.Q6J("ngIf",f.lcZ(3,1,t.formError$))}}function S(t,e){1&t&&(f.ynx(0),f.TgZ(1,"mat-icon",18),f._uU(2,"error_outline"),f.qZA(),f.BQk())}function w(t,e){if(1&t&&(f.TgZ(0,"h5",16),f._uU(1,"Edit Payment Method "),f.YNc(2,S,3,0,"ng-container",17),f.ALo(3,"async"),f.qZA()),2&t){const t=f.oxw();f.xp6(2),f.Q6J("ngIf",f.lcZ(3,1,t.formError$))}}function N(t,e){if(1&t&&(f.TgZ(0,"mat-error",19),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.payment_method_name)}}function I(t,e){if(1&t&&(f.TgZ(0,"mat-error",19),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.payment_method_display_name)}}function U(t,e){if(1&t&&(f.TgZ(0,"mat-error",19),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.payment_method_description)}}function C(t,e){1&t&&(f.TgZ(0,"div",20),f._UZ(1,"mat-progress-bar",21),f.qZA())}let D=(()=>{class t{constructor(t,e,a,o,i){this.fb=e,this.paymentMethodService=a,this.notification=o,this.dialogRef=i,this.errorInForm=new p.X(!1),this.formError$=this.errorInForm.asObservable(),this.loader=!1,this.roles=[],this.employees=[],this.branches=[],this.roles=t.roles,this.employees=t.employees,this.branches=t.branches,this.isAdd=t.isAdd,this.paymentMethod=t.paymentMethod}ngOnInit(){var t,e,a;this.isAdd&&(this.form=this.fb.group({payment_method_name:["",[h.kI.required,h.kI.minLength(3)]],payment_method_display_name:[""],payment_method_description:["",[h.kI.required,h.kI.minLength(3)]]})),this.isAdd||(this.form=this.fb.group({payment_method_name:[null===(t=this.paymentMethod)||void 0===t?void 0:t.payment_method_name,[h.kI.required,h.kI.minLength(2)]],payment_method_display_name:[null===(e=this.paymentMethod)||void 0===e?void 0:e.payment_method_display_name],payment_method_description:[null===(a=this.paymentMethod)||void 0===a?void 0:a.payment_method_description]}))}create(){this.errorInForm.next(!1);const t=Object.assign({},this.paymentMethod,this.form.value);this.loader=!0,this.paymentMethodService.create(t).subscribe(t=>{this.onSaveComplete(),this.notification.showNotification("success","Success !! Payment Method created.")},t=>{var e,a;if(this.loader=!1,this.errorInForm.next(!0),this.formErrors=t,this.formErrors)for(const o in this.formErrors)this.form&&(null===(e=this.form.controls[o])||void 0===e||e.markAsTouched(),null===(a=this.form.controls[o])||void 0===a||a.setErrors({incorrect:!0}))})}update(){const t=Object.assign({},this.paymentMethod,this.form.value);this.loader=!0,this.errorInForm.next(!1),this.paymentMethodService.update(t).subscribe(t=>{this.loader=!1,this.dialogRef.close(this.form.value),this.notification.showNotification("success","Success !! Payment Method has been updated.")},t=>{var e,a;if(this.loader=!1,this.errorInForm.next(!0),this.formErrors=t,this.formErrors)for(const o in this.formErrors)this.form&&(null===(e=this.form.controls[o])||void 0===e||e.markAsTouched(),null===(a=this.form.controls[o])||void 0===a||a.setErrors({incorrect:!0}))})}createOrUpdate(){this.isAdd?this.create():this.update()}save(){this.dialogRef.close(this.form.value)}close(){this.dialogRef.close()}onSaveComplete(){this.loader=!1,this.form.reset(),this.dialogRef.close(this.form.value)}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(i.WI),f.Y36(h.qu),f.Y36(g.X),f.Y36(Z.g),f.Y36(i.so))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-add-payment-method"]],decls:33,vars:11,consts:[["mat-dialog-title","",4,"ngIf"],[1,"mat-dialog-data",3,"formGroup"],[1,"row"],[1,"col-12"],["color","primary","appearance","outline",1,"full-width"],["matInput","","formControlName","payment_method_name","placeholder","Payment Method Name"],["align","start","class","form__error",4,"ngIf"],["matInput","","formControlName","payment_method_display_name","placeholder","Display Name"],[1,"col-sm-12"],["formControlName","payment_method_description","matInput","","placeholder","Description","maxlength","150","rows","2"],["payment_method_description",""],["align","end"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["align","center"],["mat-button","","color","accent",1,"mr-2",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-dialog-title",""],[4,"ngIf"],["color","warn"],["align","start",1,"form__error"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(t,e){if(1&t&&(f.YNc(0,T,4,3,"h5",0),f.YNc(1,w,4,3,"h5",0),f.TgZ(2,"mat-dialog-content",1),f.TgZ(3,"div",2),f.TgZ(4,"div",3),f.TgZ(5,"mat-form-field",4),f.TgZ(6,"mat-label"),f._uU(7,"Payment Method Name"),f.qZA(),f._UZ(8,"input",5),f.YNc(9,N,2,1,"mat-error",6),f.qZA(),f.qZA(),f.qZA(),f.TgZ(10,"div",2),f.TgZ(11,"div",3),f.TgZ(12,"mat-form-field",4),f.TgZ(13,"mat-label"),f._uU(14,"Display Name"),f.qZA(),f._UZ(15,"input",7),f.YNc(16,I,2,1,"mat-error",6),f.qZA(),f.qZA(),f.qZA(),f.TgZ(17,"div",2),f.TgZ(18,"div",8),f.TgZ(19,"mat-form-field",4),f.TgZ(20,"mat-label"),f._uU(21,"Description"),f.qZA(),f._UZ(22,"textarea",9,10),f.TgZ(24,"mat-hint",11),f._uU(25),f.qZA(),f.YNc(26,U,2,1,"mat-error",6),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.YNc(27,C,2,0,"div",12),f.TgZ(28,"mat-dialog-actions",13),f.TgZ(29,"button",14),f.NdJ("click",function(){return e.close()}),f._uU(30,"Cancel"),f.qZA(),f.TgZ(31,"button",15),f.NdJ("click",function(){return e.createOrUpdate()}),f._uU(32,"Save"),f.qZA(),f.qZA()),2&t){const t=f.MAs(23);f.Q6J("ngIf",e.isAdd),f.xp6(1),f.Q6J("ngIf",!e.isAdd),f.xp6(1),f.Q6J("formGroup",e.form),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.payment_method_name),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.payment_method_display_name),f.xp6(9),f.hij("",t.value.length," / 150"),f.xp6(1),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.payment_method_description),f.xp6(1),f.Q6J("ngIf",e.loader),f.xp6(2),f.Q6J("disabled",e.loader)("mat-dialog-close",!0),f.xp6(2),f.Q6J("disabled",!e.form.valid||e.loader)}},directives:[b.O5,i.xY,h.JL,h.sg,_.KE,_.hX,y.Nt,h.Fj,h.JJ,h.u,h.nD,_.bx,i.H8,v.lW,i.ZT,i.uh,A.Hw,_.TO,x.pW],pipes:[b.Ov],encapsulation:2}),t})();var M=a(1581);class k extends M.y{constructor(t){super(t)}}var E=a(32789),J=a(33935);const Y=["search"];function j(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"button",30),f.NdJ("click",function(){return f.CHM(t),f.oxw().clearSearch()}),f.TgZ(1,"mat-icon"),f._uU(2,"close"),f.qZA(),f.qZA()}}function Q(t,e){1&t&&(f.TgZ(0,"mat-header-cell",31),f._uU(1," Name "),f.qZA())}function O(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.payment_method_name," ")}}function R(t,e){1&t&&(f.TgZ(0,"mat-header-cell",31),f._uU(1," Display Name "),f.qZA())}function F(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.payment_method_display_name," ")}}function H(t,e){1&t&&(f.TgZ(0,"mat-header-cell"),f._uU(1," Actions "),f.qZA())}function $(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-cell",32),f.TgZ(1,"button",33),f.TgZ(2,"mat-icon"),f._uU(3,"more_vert"),f.qZA(),f.qZA(),f.TgZ(4,"mat-menu",null,34),f.TgZ(6,"button",35),f.NdJ("click",function(){const e=f.CHM(t).$implicit;return f.oxw().addDialog(!1,e)}),f.TgZ(7,"mat-icon",36),f._uU(8,"edit"),f.qZA(),f.TgZ(9,"span"),f._uU(10,"Edit"),f.qZA(),f.qZA(),f.TgZ(11,"button",35),f.NdJ("click",function(){const e=f.CHM(t).$implicit;return f.oxw().openConfirmationDialog(e)}),f.TgZ(12,"mat-icon",37),f._uU(13,"delete"),f.qZA(),f.TgZ(14,"span"),f._uU(15,"Delete"),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=f.MAs(5);f.xp6(1),f.Q6J("matMenuTriggerFor",t)}}function P(t,e){1&t&&f._UZ(0,"mat-header-row")}function X(t,e){1&t&&f._UZ(0,"mat-row")}function B(t,e){1&t&&(f.TgZ(0,"span"),f._uU(1,"No Data"),f.qZA())}function G(t,e){1&t&&(f.TgZ(0,"div",38),f._UZ(1,"mat-progress-bar",39),f.qZA())}const L=o.Bz.forChild([{path:"",component:(()=>{class t{constructor(t,e,a){this.paymentMethodService=t,this.notification=e,this.dialog=a,this.displayedColumns=["payment_method_name","payment_method_display_name","actions"],this.loader=!1,this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.roles=[]}ngOnInit(){this.dataSource=new k(this.paymentMethodService),this.dataSource.meta$.subscribe(t=>this.meta=t),this.dataSource.load("",0,0,"updated_at","desc")}addDialog(t=!0,e){const a=new i.vA;a.disableClose=!0,a.autoFocus=!0,a.data={paymentMethod:e,isAdd:t,roles:this.roles},a.width="500px",this.dialog.open(D,a).afterClosed().subscribe(t=>{t&&this.loadData()})}loadData(){this.dataSource.load(this.search.nativeElement.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction)}ngAfterViewInit(){(0,l.R)(this.search.nativeElement,"keyup").pipe((0,d.b)(1e3),(0,m.x)(),(0,u.b)(()=>{this.paginator.pageIndex=0,this.loadData()})).subscribe(),this.paginator.page.pipe((0,u.b)(()=>this.loadData())).subscribe(),this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,c.T)(this.sort.sortChange,this.paginator.page).pipe((0,u.b)(()=>this.loadData())).subscribe()}openConfirmationDialog(t){this.dialogRef=this.dialog.open(s.z,{disableClose:!0}),this.dialogRef.afterClosed().subscribe(e=>{e&&this.delete(t),this.dialogRef=null})}delete(t){this.loader=!0,this.paymentMethodService.delete(t).subscribe(t=>{this.loader=!1,this.loadData(),this.notification.showNotification("success","Success !! Payment Method has been deleted.")},t=>{this.loader=!1,this.notification.showNotification("danger",t.error.message?t.error.message:"Delete Error !! ")})}clearSearch(){this.search.nativeElement.value="",this.loadData()}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(g.X),f.Y36(Z.g),f.Y36(i.uw))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-payment-method-setting"]],viewQuery:function(t,e){if(1&t&&(f.Gf(Y,7),f.Gf(n.NW,7),f.Gf(r.YE,7)),2&t){let t;f.iGM(t=f.CRH())&&(e.search=t.first),f.iGM(t=f.CRH())&&(e.paginator=t.first),f.iGM(t=f.CRH())&&(e.sort=t.first)}},decls:39,vars:15,consts:[[1,"row"],[1,"fab-container"],["mat-fab","",1,"fab-toggler",3,"click"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","search-form-section"],[1,"col-3"],["mat-button","","matPrefix","","mat-stroked-button","","aria-label","add new",3,"disabled","click"],[1,"col-9"],[1,"search-form-field"],["matInput","","placeholder","Filter","autocomplete","off",3,"disabled"],["search",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"table-responsive"],["matSort","","matSortActive","payment_method_name","matSortDirection","asc","matSortDisableClear","",3,"dataSource"],["table",""],["matColumnDef","payment_method_name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","payment_method_display_name"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["class","button-row",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSizeOptions"],["pagination",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],[1,"button-row"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["color","accent"],["color","warn"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(t,e){if(1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"button",2),f.NdJ("click",function(){return e.addDialog()}),f.TgZ(3,"mat-icon"),f._uU(4,"add"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(5,"div",3),f.TgZ(6,"div",4),f.TgZ(7,"div",5),f.TgZ(8,"div",6),f.TgZ(9,"div",7),f.TgZ(10,"button",8),f.NdJ("click",function(){return e.addDialog()}),f.ALo(11,"async"),f.TgZ(12,"mat-icon"),f._uU(13,"add"),f.qZA(),f._uU(14," New Payment Method "),f.qZA(),f.qZA(),f.TgZ(15,"div",9),f.TgZ(16,"mat-form-field",10),f._UZ(17,"input",11,12),f.YNc(19,j,3,0,"button",13),f.qZA(),f.qZA(),f.qZA(),f.TgZ(20,"div",14),f.TgZ(21,"mat-table",15,16),f.ynx(23,17),f.YNc(24,Q,2,0,"mat-header-cell",18),f.YNc(25,O,2,1,"mat-cell",19),f.BQk(),f.ynx(26,20),f.YNc(27,R,2,0,"mat-header-cell",18),f.YNc(28,F,2,1,"mat-cell",19),f.BQk(),f.ynx(29,21),f.YNc(30,H,2,0,"mat-header-cell",22),f.YNc(31,$,16,1,"mat-cell",23),f.BQk(),f.YNc(32,P,1,0,"mat-header-row",24),f.YNc(33,X,1,0,"mat-row",25),f.qZA(),f.YNc(34,B,2,0,"span",26),f.YNc(35,G,2,0,"div",27),f.ALo(36,"async"),f._UZ(37,"mat-paginator",28,29),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t){const t=f.MAs(18);f.xp6(10),f.Q6J("disabled",f.lcZ(11,11,null==e.dataSource?null:e.dataSource.loading$)),f.xp6(7),f.Q6J("disabled",0===(null==e.meta?null:e.meta.total)),f.xp6(2),f.Q6J("ngIf",t.value),f.xp6(2),f.Q6J("dataSource",e.dataSource),f.xp6(11),f.Q6J("matHeaderRowDef",e.displayedColumns),f.xp6(1),f.Q6J("matRowDefColumns",e.displayedColumns),f.xp6(1),f.Q6J("ngIf",0===(null==e.meta?null:e.meta.total)),f.xp6(1),f.Q6J("ngIf",f.lcZ(36,13,null==e.dataSource?null:e.dataSource.loading$)||e.loader),f.xp6(2),f.Q6J("length",null==e.meta?null:e.meta.total)("pageIndex",e.pageIndex)("pageSizeOptions",e.pageSizeOptions)}},directives:[v.lW,A.Hw,_.qo,_.KE,y.Nt,b.O5,E.BZ,r.YE,E.w1,E.fO,E.Dz,E.as,E.nj,n.NW,_.R9,E.ge,r.nU,E.ev,J.p6,J.VK,J.OP,E.XQ,E.Gk,x.pW],pipes:[b.Ov],styles:[""]}),t})()}]);var z=a(83893);let W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[z.m,L]]}),t})()},1581:function(t,e,a){a.d(e,{y:function(){return s}});var o=a(26215),i=a(25917),n=a(5304),r=a(68939);class s{constructor(t){this.service=t,this.dataSubject=new o.X([]),this.loadingSubject=new o.X(!1),this.loading$=this.loadingSubject.asObservable(),this.metaSubject=new o.X({}),this.meta$=this.metaSubject.asObservable()}load(t,e,a,o="",s="",l="",c=""){this.loadingSubject.next(!0),this.service.getAll(t,e,a,o,s,l,c).pipe((0,n.K)(()=>(0,i.of)([])),(0,r.x)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.dataSubject.next(t.data),this.metaSubject.next(t.meta)})}loadNested(t,e,a,o,s="",l="",c="",d=""){this.loadingSubject.next(!0),this.service.getNested(t,e,a,o,s,l,c,d).pipe((0,n.K)(()=>(0,i.of)([])),(0,r.x)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.dataSubject.next(t.data),this.metaSubject.next(t.meta)})}connect(t){return this.dataSubject.asObservable()}disconnect(t){this.dataSubject.complete(),this.loadingSubject.complete()}}}}]);