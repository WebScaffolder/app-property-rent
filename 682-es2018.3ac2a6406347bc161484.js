"use strict";(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[682],{1581:function(t,e,n){n.d(e,{y:function(){return l}});var a=n(26215),o=n(25917),r=n(5304),i=n(68939);class l{constructor(t){this.service=t,this.dataSubject=new a.X([]),this.loadingSubject=new a.X(!1),this.loading$=this.loadingSubject.asObservable(),this.metaSubject=new a.X({}),this.meta$=this.metaSubject.asObservable()}load(t,e,n,a="",l="",c="",s=""){this.loadingSubject.next(!0),this.service.getAll(t,e,n,a,l,c,s).pipe((0,r.K)(()=>(0,o.of)([])),(0,i.x)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.dataSubject.next(t.data),this.metaSubject.next(t.meta)})}loadNested(t,e,n,a,l="",c="",s="",m=""){this.loadingSubject.next(!0),this.service.getNested(t,e,n,a,l,c,s,m).pipe((0,r.K)(()=>(0,o.of)([])),(0,i.x)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.dataSubject.next(t.data),this.metaSubject.next(t.meta)})}connect(t){return this.dataSubject.asObservable()}disconnect(t){this.dataSubject.complete(),this.loadingSubject.complete()}}},11682:function(t,e,n){n.r(e),n.d(e,{TenantModule:function(){return In}});var a=n(39895),o=n(22238),r=n(99692),i=n(11494),l=n(22759),c=n(66682),s=n(54395),m=n(87519),u=n(68307),d=n(28292),p=n(26215);const g=[{key:"MALE",value:"MALE"},{key:"FEMALE",value:"FEMALE"},{key:"OTHER",value:"OTHER"}];var f=n(37716),Z=n(3679),_=n(19971),h=n(65718),x=n(75973),b=n(57404),A=n(38583),v=n(94553),T=n(98295),q=n(67441),C=n(49983),y=n(43220),O=n(51095),M=n(76627),U=n(72458),P=n(12178),N=n(29790);const E=["stepper"];function w(t,e){1&t&&(f.ynx(0),f.TgZ(1,"mat-icon",60),f._uU(2,"error_outline"),f.qZA(),f.BQk())}function D(t,e){if(1&t&&(f.TgZ(0,"h4",59),f._uU(1),f.ALo(2,"translate"),f.YNc(3,w,3,0,"ng-container",57),f.ALo(4,"async"),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.hij("",f.lcZ(2,2,"robi.tenants.new")," "),f.xp6(2),f.Q6J("ngIf",f.lcZ(4,4,t.formError$))}}function S(t,e){1&t&&(f.ynx(0),f.TgZ(1,"mat-icon",60),f._uU(2,"error_outline"),f.qZA(),f.BQk())}function I(t,e){if(1&t&&(f.TgZ(0,"h4",59),f._uU(1,"Edit Tenant "),f.YNc(2,S,3,0,"ng-container",57),f.ALo(3,"async"),f.qZA()),2&t){const t=f.oxw();f.xp6(2),f.Q6J("ngIf",f.lcZ(3,1,t.formError$))}}function k(t,e){1&t&&f._uU(0,"Tenant Info")}function Y(t,e){if(1&t&&(f.TgZ(0,"mat-option",61),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.Q6J("value",t.id),f.xp6(1),f.hij(" ",t.tenant_type_display_name," ")}}function Q(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.tenant_type_id)}}function J(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.first_name)}}function F(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.middle_name)}}function $(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.last_name)}}function L(t,e){if(1&t&&(f.TgZ(0,"mat-option",61),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.Q6J("value",t.key),f.xp6(1),f.hij(" ",t.value," ")}}function G(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.gender)}}function j(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.date_of_birth)}}function B(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.id_passport_number)}}function z(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.marital_status)}}function R(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.phone)}}function H(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.email)}}function K(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.country)}}function W(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.city)}}function X(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.postal_code)}}function V(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.postal_address)}}function tt(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.physical_address)}}function et(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.password)}}function nt(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.password_confirmation)}}function at(t,e){1&t&&f._uU(0,"Kin & Relation")}function ot(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.next_of_kin_name)}}function rt(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.next_of_kin_phone)}}function it(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.next_of_kin_relation)}}function lt(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.emergency_contact_name)}}function ct(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.emergency_contact_phone)}}function st(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.emergency_contact_email)}}function mt(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.emergency_contact_relationship)}}function ut(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.emergency_contact_postal_address)}}function dt(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.emergency_contact_physical_address)}}function pt(t,e){1&t&&f._uU(0,"Employment")}function gt(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.employment_status)}}function ft(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.employment_position)}}function Zt(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.employer_contact_phone)}}function _t(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.employer_contact_email)}}function ht(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.employment_postal_address)}}function xt(t,e){if(1&t&&(f.TgZ(0,"mat-error",62),f._uU(1),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Oqu(t.formErrors.employment_physical_address)}}function bt(t,e){1&t&&(f.TgZ(0,"div",63),f._UZ(1,"mat-progress-bar",64),f.qZA())}function At(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"button",66),f.NdJ("click",function(){f.CHM(t);const e=f.oxw(2);return e.openConfirmationDialog(e.tenant)}),f.TgZ(1,"mat-icon"),f._uU(2,"delete"),f.qZA(),f._uU(3,"Delete "),f.qZA()}if(2&t){const t=f.oxw(2);f.Q6J("disabled",t.loader)}}function vt(t,e){if(1&t&&(f.ynx(0),f.YNc(1,At,4,1,"button",65),f.BQk()),2&t){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",!t.isAdd)}}let Tt=(()=>{class t{constructor(t,e,n,a,o,r,i,l,c){this.fb=t,this.dialog=e,this._formBuilder=n,this.router=a,this.route=o,this.tenantService=r,this.tenantTypeService=i,this.authenticationService=l,this.notification=c,this.errorInForm=new p.X(!1),this.formError$=this.errorInForm.asObservable(),this.loader=!1,this.isLinear=!1,this.isAdd=!0,this.gender=g,this.isAdmin$=this.authenticationService.isAdmin(),this.personalFormGroup=this._formBuilder.group({tenant_type_id:[""],first_name:[""],middle_name:[""],last_name:[""],gender:[""],date_of_birth:[""],id_passport_number:[""],marital_status:[""],phone:[""],email:[""],country:[""],city:[""],postal_code:[""],postal_address:[""],physical_address:[""],password:[""],password_confirmation:[""]}),this.nextOfKinFormGroup=this._formBuilder.group({next_of_kin_name:[""],next_of_kin_phone:[""],next_of_kin_relation:[""],emergency_contact_name:[""],emergency_contact_phone:[""],emergency_contact_email:[""],emergency_contact_relationship:[""],emergency_contact_postal_address:[""],emergency_contact_physical_address:[""]}),this.employmentFormGroup=this._formBuilder.group({employment_status:[""],employment_position:[""],employer_contact_phone:[""],employer_contact_email:[""],employment_postal_address:[""],employment_physical_address:[""]})}ngOnInit(){this.tenantID=this.route.snapshot.paramMap.get("id"),this.tenantID&&(this.isAdd=!1,this.tenantService.selectedTenantChanges$.subscribe(t=>{t&&(this.tenant=t,this.populateForm(t)),t||this.tenantService.getById(this.tenantID).subscribe(t=>{this.tenant=t,this.tenantService.changeSelectedTenant(t),this.populateForm(t)})})),this.tenantTypes$=this.tenantTypeService.list(["tenant_type_name ","tenant_type_display_name"])}populateForm(t){this.populatePersonalData(t),this.populateNextOfKinData(t),this.populateEmploymentData(t)}populatePersonalData(t){this.personalFormGroup.patchValue({tenant_type_id:null==t?void 0:t.tenant_type_id,first_name:null==t?void 0:t.first_name,middle_name:null==t?void 0:t.middle_name,last_name:null==t?void 0:t.last_name,gender:null==t?void 0:t.gender,date_of_birth:null==t?void 0:t.date_of_birth,id_passport_number:null==t?void 0:t.id_passport_number,marital_status:null==t?void 0:t.marital_status,phone:null==t?void 0:t.phone,email:null==t?void 0:t.email,country:null==t?void 0:t.country,city:null==t?void 0:t.city,postal_code:null==t?void 0:t.postal_code,postal_address:null==t?void 0:t.postal_address,physical_address:null==t?void 0:t.physical_address})}populateNextOfKinData(t){this.nextOfKinFormGroup.patchValue({next_of_kin_name:null==t?void 0:t.next_of_kin_name,next_of_kin_phone:null==t?void 0:t.next_of_kin_phone,next_of_kin_relation:null==t?void 0:t.next_of_kin_relation,emergency_contact_name:null==t?void 0:t.emergency_contact_name,emergency_contact_phone:null==t?void 0:t.emergency_contact_phone,emergency_contact_email:null==t?void 0:t.emergency_contact_email,emergency_contact_relationship:null==t?void 0:t.emergency_contact_relationship,emergency_contact_postal_address:null==t?void 0:t.emergency_contact_postal_address,emergency_contact_physical_address:null==t?void 0:t.emergency_contact_physical_address})}populateEmploymentData(t){this.employmentFormGroup.patchValue({employment_status:null==t?void 0:t.employment_status,employment_position:null==t?void 0:t.employment_position,employer_contact_phone:null==t?void 0:t.employer_contact_phone,employer_contact_email:null==t?void 0:t.employer_contact_email,employment_postal_address:null==t?void 0:t.employment_postal_address,employment_physical_address:null==t?void 0:t.employment_physical_address})}create(){this.errorInForm.next(!1);const t={...this.personalFormGroup.value,...this.nextOfKinFormGroup.value,...this.employmentFormGroup.value};this.loader=!0,this.tenantService.create(t).subscribe(t=>{this.loader=!1,this.notification.showNotification("success","Success !! New Tenant created."),this.onSaveComplete()},t=>{var e,n,a;if(this.loader=!1,0!==t.lead){if(this.formErrors=t,this.formErrors)for(const t in this.formErrors)this.stepper.selectedIndex=0,this.personalFormGroup.controls[t]&&(null===(e=this.personalFormGroup.controls[t])||void 0===e||e.markAsTouched(),this.personalFormGroup.controls[t].setErrors({incorrect:!0})),this.nextOfKinFormGroup.controls[t]&&(null===(n=this.nextOfKinFormGroup.controls[t])||void 0===n||n.markAsTouched(),this.nextOfKinFormGroup.controls[t].setErrors({incorrect:!0})),this.employmentFormGroup.controls[t]&&(null===(a=this.employmentFormGroup.controls[t])||void 0===a||a.markAsTouched(),this.employmentFormGroup.controls[t].setErrors({incorrect:!0}))}else this.notification.showNotification("danger","Connection Error !! Nothing created. Check your connection and retry.")})}update(){const t={...this.personalFormGroup.value,...this.nextOfKinFormGroup.value,...this.employmentFormGroup.value},e=Object.assign({},this.tenant,t);this.loader=!0,this.errorInForm.next(!1),this.tenantService.update(e).subscribe(t=>{this.loader=!1,this.notification.showNotification("success","Success !! Tenant has been updated."),this.onSaveComplete()},t=>{var e;if(this.loader=!1,0!==t.landlord&&(this.formErrors=t,this.formErrors))for(const n in this.formErrors)this.personalFormGroup&&(null===(e=this.personalFormGroup.controls[n])||void 0===e||e.markAsTouched(),this.personalFormGroup.controls[n].setErrors({incorrect:!0}))})}createOrUpdate(){this.isAdd?this.create():this.update()}onSaveComplete(){this.loader=!1,this.router.navigate(["/tenants"])}openConfirmationDialog(t){this.deleteDialogRef=this.dialog.open(d.z,{disableClose:!0}),this.deleteDialogRef.afterClosed().subscribe(e=>{e&&this.delete(t),this.deleteDialogRef=null})}delete(t){this.loader=!0,this.tenantService.delete(t).subscribe(t=>{this.loader=!1,this.onSaveComplete(),this.notification.showNotification("success","Success !! Tenant has been deleted.")},t=>{this.loader=!1,this.notification.showNotification("danger",t.error.message?t.error.message:"Delete Error !! ")})}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(Z.qu),f.Y36(o.uw),f.Y36(Z.qu),f.Y36(a.F0),f.Y36(a.gz),f.Y36(_.a),f.Y36(h.s),f.Y36(x.$),f.Y36(b.g))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-add-tenant"]],viewQuery:function(t,e){if(1&t&&f.Gf(E,7),2&t){let t;f.iGM(t=f.CRH())&&(e.stepper=t.first)}},decls:259,vars:52,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],["class","card-title",4,"ngIf"],[1,"card-body"],[3,"linear"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"col-12","col-sm-6","col-md-6","col-lg-4","col-xl-4"],["color","primary","appearance","outline",1,"full-width"],["placeholder","Tenant Type *","formControlName","tenant_type_id"],[3,"value",4,"ngFor","ngForOf"],["align","start","class","form__error",4,"ngIf"],["matInput","","formControlName","first_name","placeholder","First Name"],["matInput","","formControlName","middle_name","placeholder","Middle Name"],["matInput","","formControlName","last_name","placeholder","Last Name"],["formControlName","gender"],["matInput","","formControlName","date_of_birth","placeholder","Date of Birth",3,"matDatepicker","click"],["matSuffix","",3,"for"],["touchUi",""],["date_of_birth",""],["matInput","","formControlName","id_passport_number","placeholder","ID Passport Number"],["matInput","","formControlName","marital_status","placeholder","Marital Status"],["matInput","","formControlName","phone","placeholder","Contact Phone"],["matInput","","formControlName","email","placeholder","Contact Email"],["matInput","","formControlName","country","placeholder","Country"],["matInput","","formControlName","city","placeholder","City"],["matInput","","formControlName","postal_code","placeholder","Postal Code"],["matInput","","formControlName","postal_address","placeholder","Postal Address"],["matInput","","formControlName","physical_address","placeholder","Physical Address"],[1,"col-md-6"],["matInput","","formControlName","password","type","password","placeholder","Password"],["matInput","","formControlName","password_confirmation","type","password","placeholder","Confirm Password"],["color","accent","mat-button","","matStepperNext","","type","button",1,"mat-raised-button"],["color","material-icons"],["matInput","","formControlName","next_of_kin_name","placeholder","Next of Kin Name"],["matInput","","formControlName","next_of_kin_phone","placeholder","Next of Kin Phone"],["matInput","","formControlName","next_of_kin_relation","placeholder","Next of Kin Relation"],["matInput","","formControlName","emergency_contact_name","placeholder","Emergency Name"],["matInput","","formControlName","emergency_contact_phone","placeholder","Emergency Phone"],["matInput","","formControlName","emergency_contact_email","placeholder","Emergency Email"],["matInput","","formControlName","emergency_contact_relationship","placeholder","Emergency Relation"],["matInput","","formControlName","emergency_contact_phone","placeholder","Emergency Postal Address"],["matInput","","formControlName","emergency_contact_physical_address","placeholder","Emergency Physical Address"],["color","accent","mat-button","","matStepperPrevious","","type","button",1,"mat-raised-button","mr-2"],["matInput","","formControlName","employment_status","placeholder","Employment Status"],["matInput","","formControlName","employment_position","placeholder","Employment Position"],["matInput","","formControlName","employer_contact_phone","placeholder","Employment Contact Phone"],["matInput","","formControlName","employer_contact_email","placeholder","Employment Contact Email"],["matInput","","formControlName","employment_postal_address","placeholder","Employment Postal Address"],["matInput","","formControlName","employment_physical_address","placeholder","Employment Physical Address"],["class","d-flex justify-content-center spinner-container mb-2",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"float-right",3,"disabled","click"],[1,"card-title"],["color","warn"],[3,"value"],["align","start",1,"form__error"],[1,"d-flex","justify-content-center","spinner-container","mb-2"],["color","primary","mode","query","value","50","bufferValue","75"],["mat-button","","class","mr-2","color","warn",3,"disabled","click",4,"ngIf"],["mat-button","","color","warn",1,"mr-2",3,"disabled","click"]],template:function(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"div",4),f.TgZ(5,"div",5),f.YNc(6,D,5,6,"h4",6),f.YNc(7,I,4,3,"h4",6),f.qZA(),f.TgZ(8,"div",7),f.TgZ(9,"mat-vertical-stepper",8,9),f.TgZ(11,"mat-step",10),f.TgZ(12,"form",11),f.YNc(13,k,1,0,"ng-template",12),f.ynx(14),f.TgZ(15,"div",2),f.TgZ(16,"div",13),f.TgZ(17,"mat-form-field",14),f.TgZ(18,"mat-label"),f._uU(19,"Tenant Type *"),f.qZA(),f.TgZ(20,"mat-select",15),f.YNc(21,Y,2,2,"mat-option",16),f.ALo(22,"async"),f.qZA(),f.YNc(23,Q,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(24,"div",13),f.TgZ(25,"mat-form-field",14),f.TgZ(26,"mat-label"),f._uU(27,"First Name"),f.qZA(),f._UZ(28,"input",18),f.YNc(29,J,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(30,"div",13),f.TgZ(31,"mat-form-field",14),f.TgZ(32,"mat-label"),f._uU(33,"Middle Name"),f.qZA(),f._UZ(34,"input",19),f.YNc(35,F,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(36,"div",2),f.TgZ(37,"div",13),f.TgZ(38,"mat-form-field",14),f.TgZ(39,"mat-label"),f._uU(40,"Last Name"),f.qZA(),f._UZ(41,"input",20),f.YNc(42,$,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(43,"div",13),f.TgZ(44,"mat-form-field",14),f.TgZ(45,"mat-label"),f._uU(46,"Gender"),f.qZA(),f.TgZ(47,"mat-select",21),f.YNc(48,L,2,2,"mat-option",16),f.qZA(),f.YNc(49,G,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(50,"div",13),f.TgZ(51,"mat-form-field",14),f.TgZ(52,"mat-label"),f._uU(53,"Date of Birth"),f.qZA(),f.TgZ(54,"input",22),f.NdJ("click",function(){return f.CHM(t),f.MAs(57).open()}),f.qZA(),f._UZ(55,"mat-datepicker-toggle",23),f._UZ(56,"mat-datepicker",24,25),f.YNc(58,j,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(59,"div",2),f.TgZ(60,"div",13),f.TgZ(61,"mat-form-field",14),f.TgZ(62,"mat-label"),f._uU(63,"ID Passport Number"),f.qZA(),f._UZ(64,"input",26),f.YNc(65,B,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(66,"div",13),f.TgZ(67,"mat-form-field",14),f.TgZ(68,"mat-label"),f._uU(69,"Marital Status"),f.qZA(),f._UZ(70,"input",27),f.YNc(71,z,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(72,"div",13),f.TgZ(73,"mat-form-field",14),f.TgZ(74,"mat-label"),f._uU(75,"Contact Phone"),f.qZA(),f._UZ(76,"input",28),f.YNc(77,R,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(78,"div",2),f.TgZ(79,"div",13),f.TgZ(80,"mat-form-field",14),f.TgZ(81,"mat-label"),f._uU(82,"Contact Email"),f.qZA(),f._UZ(83,"input",29),f.YNc(84,H,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(85,"div",13),f.TgZ(86,"mat-form-field",14),f.TgZ(87,"mat-label"),f._uU(88,"Country"),f.qZA(),f._UZ(89,"input",30),f.YNc(90,K,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(91,"div",13),f.TgZ(92,"mat-form-field",14),f.TgZ(93,"mat-label"),f._uU(94,"City"),f.qZA(),f._UZ(95,"input",31),f.YNc(96,W,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(97,"div",2),f.TgZ(98,"div",13),f.TgZ(99,"mat-form-field",14),f.TgZ(100,"mat-label"),f._uU(101,"Postal Code"),f.qZA(),f._UZ(102,"input",32),f.YNc(103,X,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(104,"div",13),f.TgZ(105,"mat-form-field",14),f.TgZ(106,"mat-label"),f._uU(107,"Postal Address"),f.qZA(),f._UZ(108,"input",33),f.YNc(109,V,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(110,"div",13),f.TgZ(111,"mat-form-field",14),f.TgZ(112,"mat-label"),f._uU(113,"Physical Address"),f.qZA(),f._UZ(114,"input",34),f.YNc(115,tt,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(116,"div",2),f.TgZ(117,"div",35),f.TgZ(118,"mat-form-field",14),f.TgZ(119,"mat-label"),f._uU(120,"Password"),f.qZA(),f._UZ(121,"input",36),f.YNc(122,et,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(123,"div",35),f.TgZ(124,"mat-form-field",14),f.TgZ(125,"mat-label"),f._uU(126,"Confirm Password"),f.qZA(),f._UZ(127,"input",37),f.YNc(128,nt,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.BQk(),f.TgZ(129,"div"),f.TgZ(130,"button",38),f.TgZ(131,"span"),f._uU(132,"Next"),f.qZA(),f.TgZ(133,"mat-icon",39),f._uU(134,"arrow_right"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(135,"mat-step",10),f.TgZ(136,"form",11),f.YNc(137,at,1,0,"ng-template",12),f.TgZ(138,"div",2),f.TgZ(139,"div",13),f.TgZ(140,"mat-form-field",14),f.TgZ(141,"mat-label"),f._uU(142,"Next of Kin Name"),f.qZA(),f._UZ(143,"input",40),f.YNc(144,ot,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(145,"div",13),f.TgZ(146,"mat-form-field",14),f.TgZ(147,"mat-label"),f._uU(148,"Next of Kin Phone"),f.qZA(),f._UZ(149,"input",41),f.YNc(150,rt,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(151,"div",13),f.TgZ(152,"mat-form-field",14),f.TgZ(153,"mat-label"),f._uU(154,"Next of Kin Relation"),f.qZA(),f._UZ(155,"input",42),f.YNc(156,it,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(157,"div",2),f.TgZ(158,"div",13),f.TgZ(159,"mat-form-field",14),f.TgZ(160,"mat-label"),f._uU(161,"Emergency Name"),f.qZA(),f._UZ(162,"input",43),f.YNc(163,lt,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(164,"div",13),f.TgZ(165,"mat-form-field",14),f.TgZ(166,"mat-label"),f._uU(167,"Emergency Phone"),f.qZA(),f._UZ(168,"input",44),f.YNc(169,ct,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(170,"div",13),f.TgZ(171,"mat-form-field",14),f.TgZ(172,"mat-label"),f._uU(173,"Emergency Email"),f.qZA(),f._UZ(174,"input",45),f.YNc(175,st,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(176,"div",2),f.TgZ(177,"div",13),f.TgZ(178,"mat-form-field",14),f.TgZ(179,"mat-label"),f._uU(180,"Emergency Relation"),f.qZA(),f._UZ(181,"input",46),f.YNc(182,mt,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(183,"div",13),f.TgZ(184,"mat-form-field",14),f.TgZ(185,"mat-label"),f._uU(186,"Emergency Postal Address"),f.qZA(),f._UZ(187,"input",47),f.YNc(188,ut,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(189,"div",13),f.TgZ(190,"mat-form-field",14),f.TgZ(191,"mat-label"),f._uU(192,"Emergency Physical Address"),f.qZA(),f._UZ(193,"input",48),f.YNc(194,dt,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(195,"div"),f.TgZ(196,"button",49),f.TgZ(197,"mat-icon",39),f._uU(198,"arrow_left"),f.qZA(),f.TgZ(199,"span"),f._uU(200,"Back"),f.qZA(),f.qZA(),f.TgZ(201,"button",38),f.TgZ(202,"span"),f._uU(203,"Next"),f.qZA(),f.TgZ(204,"mat-icon",39),f._uU(205,"arrow_right"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(206,"mat-step",10),f.TgZ(207,"form",11),f.YNc(208,pt,1,0,"ng-template",12),f.TgZ(209,"div",2),f.TgZ(210,"div",13),f.TgZ(211,"mat-form-field",14),f.TgZ(212,"mat-label"),f._uU(213,"Employment Status"),f.qZA(),f._UZ(214,"input",50),f.YNc(215,gt,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(216,"div",13),f.TgZ(217,"mat-form-field",14),f.TgZ(218,"mat-label"),f._uU(219,"Employment Position"),f.qZA(),f._UZ(220,"input",51),f.YNc(221,ft,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(222,"div",13),f.TgZ(223,"mat-form-field",14),f.TgZ(224,"mat-label"),f._uU(225,"Employment Contact Phone"),f.qZA(),f._UZ(226,"input",52),f.YNc(227,Zt,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(228,"div",2),f.TgZ(229,"div",13),f.TgZ(230,"mat-form-field",14),f.TgZ(231,"mat-label"),f._uU(232,"Employment Contact Email"),f.qZA(),f._UZ(233,"input",53),f.YNc(234,_t,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(235,"div",13),f.TgZ(236,"mat-form-field",14),f.TgZ(237,"mat-label"),f._uU(238,"Employment Postal Address"),f.qZA(),f._UZ(239,"input",54),f.YNc(240,ht,2,1,"mat-error",17),f.qZA(),f.qZA(),f.TgZ(241,"div",13),f.TgZ(242,"mat-form-field",14),f.TgZ(243,"mat-label"),f._uU(244,"Employment Physical Address"),f.qZA(),f._UZ(245,"input",55),f.YNc(246,xt,2,1,"mat-error",17),f.qZA(),f.qZA(),f.qZA(),f.TgZ(247,"div"),f.TgZ(248,"button",49),f.TgZ(249,"mat-icon",39),f._uU(250,"arrow_left"),f.qZA(),f.TgZ(251,"span"),f._uU(252,"Back"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.YNc(253,bt,2,0,"div",56),f.YNc(254,vt,2,1,"ng-container",57),f.ALo(255,"async"),f.TgZ(256,"button",58),f.NdJ("click",function(){return e.createOrUpdate()}),f.TgZ(257,"span"),f._uU(258,"Save Tenant"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=f.MAs(57);f.xp6(6),f.Q6J("ngIf",e.isAdd),f.xp6(1),f.Q6J("ngIf",!e.isAdd),f.xp6(2),f.Q6J("linear",e.isLinear),f.xp6(2),f.Q6J("stepControl",e.personalFormGroup),f.xp6(1),f.Q6J("formGroup",e.personalFormGroup),f.xp6(9),f.Q6J("ngForOf",f.lcZ(22,48,e.tenantTypes$)),f.xp6(2),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.tenant_type_id),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.first_name),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.middle_name),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.last_name),f.xp6(6),f.Q6J("ngForOf",e.gender),f.xp6(1),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.gender),f.xp6(5),f.Q6J("matDatepicker",t),f.xp6(1),f.Q6J("for",t),f.xp6(3),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.date_of_birth),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.id_passport_number),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.marital_status),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.phone),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.email),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.country),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.city),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.postal_code),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.postal_address),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.physical_address),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.password),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.password_confirmation),f.xp6(7),f.Q6J("stepControl",e.nextOfKinFormGroup),f.xp6(1),f.Q6J("formGroup",e.nextOfKinFormGroup),f.xp6(8),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.next_of_kin_name),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.next_of_kin_phone),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.next_of_kin_relation),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.emergency_contact_name),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.emergency_contact_phone),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.emergency_contact_email),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.emergency_contact_relationship),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.emergency_contact_postal_address),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.emergency_contact_physical_address),f.xp6(12),f.Q6J("stepControl",e.employmentFormGroup),f.xp6(1),f.Q6J("formGroup",e.employmentFormGroup),f.xp6(8),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.employment_status),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.employment_position),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.employer_contact_phone),f.xp6(7),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.employer_contact_email),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.employment_postal_address),f.xp6(6),f.Q6J("ngIf",null==e.formErrors?null:e.formErrors.employment_physical_address),f.xp6(7),f.Q6J("ngIf",e.loader),f.xp6(1),f.Q6J("ngIf",f.lcZ(255,50,e.isAdmin$)),f.xp6(2),f.Q6J("disabled",!e.personalFormGroup.valid||e.loader)}},directives:[A.O5,v.Vq,v.C0,Z._Y,Z.JL,Z.sg,v.VY,T.KE,T.hX,q.gD,Z.JJ,Z.u,A.sg,C.Nt,Z.Fj,y.hl,y.nW,T.R9,y.Mq,O.lW,v.Ic,M.Hw,v.fd,U.ey,T.TO,P.pW],pipes:[A.Ov,N.X$],encapsulation:2}),t})();var qt=n(1581);class Ct extends qt.y{constructor(t){super(t)}}var yt=n(32802),Ot=n(32789),Mt=n(11436);const Ut=["search"],Pt=function(){return["create"]};function Nt(t,e){1&t&&(f.ynx(0),f.TgZ(1,"div",34),f.TgZ(2,"button",35),f.TgZ(3,"mat-icon"),f._uU(4,"add"),f.qZA(),f.qZA(),f.qZA(),f.BQk()),2&t&&(f.xp6(2),f.Q6J("routerLink",f.DdM(1,Pt)))}function Et(t,e){if(1&t&&(f.TgZ(0,"div",36),f.TgZ(1,"button",37),f.ALo(2,"async"),f.TgZ(3,"mat-icon"),f._uU(4,"add"),f.qZA(),f._uU(5,"Add Tenant "),f.qZA(),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.Q6J("disabled",f.lcZ(2,2,null==t.dataSource?null:t.dataSource.loading$))("routerLink",f.DdM(4,Pt))}}function wt(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"button",38),f.NdJ("click",function(){return f.CHM(t),f.oxw().clearSearch()}),f.TgZ(1,"mat-icon"),f._uU(2,"close"),f.qZA(),f.qZA()}}function Dt(t,e){1&t&&(f.TgZ(0,"mat-header-cell",39),f._uU(1," First Name "),f.qZA())}function St(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-cell"),f.TgZ(1,"button",40),f.NdJ("click",function(){const e=f.CHM(t).$implicit;return f.oxw().onSelected(e)}),f.TgZ(2,"span",41),f._uU(3),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=e.$implicit;f.xp6(1),f.s9C("routerLink",t.id),f.xp6(2),f.Oqu(t.first_name)}}function It(t,e){1&t&&(f.TgZ(0,"mat-header-cell",39),f._uU(1," Last Name "),f.qZA())}function kt(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.last_name," ")}}function Yt(t,e){1&t&&(f.TgZ(0,"mat-header-cell",39),f._uU(1," Gender "),f.qZA())}function Qt(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.gender," ")}}function Jt(t,e){1&t&&(f.TgZ(0,"mat-header-cell",39),f._uU(1," Phone "),f.qZA())}function Ft(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.phone," ")}}function $t(t,e){1&t&&(f.TgZ(0,"mat-header-cell"),f._uU(1,"Actions"),f.qZA())}function Lt(t,e){if(1&t){const t=f.EpF();f.ynx(0),f.TgZ(1,"button",45),f.NdJ("click",function(){f.CHM(t);const e=f.oxw().$implicit;return f.oxw().onSelected(e)}),f.TgZ(2,"i",44),f._uU(3,"edit"),f.qZA(),f.qZA(),f.BQk()}if(2&t){const t=f.oxw().$implicit;f.xp6(1),f.MGl("routerLink","",t.id,"/edit"),f.Q6J("matTooltipPosition","above")}}const Gt=function(){return["edit-tenant","delete-tenant"]};function jt(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-cell",42),f.TgZ(1,"button",43),f.NdJ("click",function(){const e=f.CHM(t).$implicit;return f.oxw().onSelected(e)}),f.TgZ(2,"i",44),f._uU(3,"expand_more"),f.qZA(),f.qZA(),f.YNc(4,Lt,4,2,"ng-container",3),f.qZA()}if(2&t){const t=e.$implicit;f.xp6(1),f.s9C("routerLink",t.id),f.Q6J("matTooltipPosition","above"),f.xp6(3),f.Q6J("robiPermission",f.DdM(3,Gt))}}function Bt(t,e){1&t&&f._UZ(0,"mat-header-row")}function zt(t,e){1&t&&f._UZ(0,"mat-row")}function Rt(t,e){1&t&&(f.TgZ(0,"span"),f._uU(1,"No Data"),f.qZA())}function Ht(t,e){1&t&&(f.TgZ(0,"div",46),f._UZ(1,"mat-progress-bar",47),f.qZA())}const Kt=function(){return["create-tenant"]};let Wt=(()=>{class t{constructor(t,e,n,a){this.tenantService=t,this.notification=e,this.authenticationService=n,this.dialog=a,this.displayedColumns=["first_name","last_name","gender","phone","actions"],this.loader=!1,this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.isAdmin$=this.authenticationService.isAdmin()}ngOnInit(){this.dataSource=new Ct(this.tenantService),this.dataSource.meta$.subscribe(t=>this.meta=t),this.dataSource.load("",0,0,"first_name","desc")}ngAfterViewInit(){(0,l.R)(this.search.nativeElement,"keyup").pipe((0,s.b)(1e3),(0,m.x)(),(0,u.b)(()=>{this.paginator.pageIndex=0,this.loadData()})).subscribe(),this.paginator.page.pipe((0,u.b)(()=>this.loadData())).subscribe(),this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,c.T)(this.sort.sortChange,this.paginator.page).pipe((0,u.b)(()=>this.loadData())).subscribe()}loadData(){this.dataSource.load(this.search.nativeElement.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction)}clearSearch(){this.search.nativeElement.value="",this.loadData()}addDialog(t,e){const n=new o.vA;n.disableClose=!0,n.autoFocus=!0,n.data={landlord:e,mode:t},this.dialog.open(Tt,n).afterClosed().subscribe(t=>{})}openConfirmationDialog(t){this.dialogRef=this.dialog.open(d.z,{disableClose:!0}),this.dialogRef.afterClosed().subscribe(e=>{e&&this.delete(t),this.dialogRef=null})}delete(t){}onSelected(t){this.tenantService.changeSelectedTenant(t)}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(_.a),f.Y36(b.g),f.Y36(x.$),f.Y36(o.uw))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-properties"]],viewQuery:function(t,e){if(1&t&&(f.Gf(Ut,5),f.Gf(r.NW,7),f.Gf(i.YE,7)),2&t){let t;f.iGM(t=f.CRH())&&(e.search=t.first),f.iGM(t=f.CRH())&&(e.paginator=t.first),f.iGM(t=f.CRH())&&(e.sort=t.first)}},decls:45,vars:25,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[4,"robiPermission"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-body"],[1,"row","search-form-section"],["class","col-5",4,"robiPermission"],[1,"col-7",3,"hidden"],[1,"search-form-field"],["matInput","","autocomplete","off",3,"placeholder","disabled"],["search",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"table-responsive"],["matSort","","matSortActive","first_name","matSortDirection","desc","matSortDisableClear","",3,"dataSource"],["table",""],["matColumnDef","first_name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","last_name"],["matColumnDef","gender"],["matColumnDef","phone"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["class","button-row",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSizeOptions"],["pagination",""],[1,"fab-container"],["mat-fab","",1,"fab-toggler",3,"routerLink"],[1,"col-5"],["mat-button","","matPrefix","","mat-stroked-button","","aria-label","add new",3,"disabled","routerLink"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],["mat-flat-button","",3,"routerLink","click"],[1,"link"],[1,"button-row"],["mat-raised-button","","type","button","matTooltip","View Tenant",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","routerLink","click"],[1,"material-icons"],["mat-raised-button","","type","button","matTooltip","Edit Tenant",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","routerLink","click"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(t,e){if(1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.YNc(3,Nt,5,2,"ng-container",3),f.TgZ(4,"div",4),f.TgZ(5,"div",5),f.TgZ(6,"div",6),f.TgZ(7,"h4",7),f._uU(8),f.ALo(9,"translate"),f.qZA(),f.qZA(),f.TgZ(10,"div",8),f.TgZ(11,"div",9),f.YNc(12,Et,6,5,"div",10),f.TgZ(13,"div",11),f.ALo(14,"async"),f.TgZ(15,"mat-form-field",12),f._UZ(16,"input",13,14),f.ALo(18,"translate"),f.YNc(19,wt,3,0,"button",15),f.qZA(),f.qZA(),f.qZA(),f.TgZ(20,"div",16),f.TgZ(21,"mat-table",17,18),f.ynx(23,19),f.YNc(24,Dt,2,0,"mat-header-cell",20),f.YNc(25,St,4,2,"mat-cell",21),f.BQk(),f.ynx(26,22),f.YNc(27,It,2,0,"mat-header-cell",20),f.YNc(28,kt,2,1,"mat-cell",21),f.BQk(),f.ynx(29,23),f.YNc(30,Yt,2,0,"mat-header-cell",20),f.YNc(31,Qt,2,1,"mat-cell",21),f.BQk(),f.ynx(32,24),f.YNc(33,Jt,2,0,"mat-header-cell",20),f.YNc(34,Ft,2,1,"mat-cell",21),f.BQk(),f.ynx(35,25),f.YNc(36,$t,2,0,"mat-header-cell",26),f.YNc(37,jt,5,4,"mat-cell",27),f.BQk(),f.YNc(38,Bt,1,0,"mat-header-row",28),f.YNc(39,zt,1,0,"mat-row",29),f.qZA(),f.YNc(40,Rt,2,0,"span",30),f.YNc(41,Ht,2,0,"div",31),f.ALo(42,"async"),f._UZ(43,"mat-paginator",32,33),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t){const t=f.MAs(17);f.xp6(3),f.Q6J("robiPermission",f.DdM(23,Kt)),f.xp6(5),f.Oqu(f.lcZ(9,15,"robi.tenants.title")),f.xp6(4),f.Q6J("robiPermission",f.DdM(24,Kt)),f.xp6(1),f.Q6J("hidden",!f.lcZ(14,17,e.isAdmin$)),f.xp6(3),f.s9C("placeholder",f.lcZ(18,19,"robi.filter")),f.Q6J("disabled",0===(null==e.meta?null:e.meta.total)),f.xp6(3),f.Q6J("ngIf",t.value),f.xp6(2),f.Q6J("dataSource",e.dataSource),f.xp6(17),f.Q6J("matHeaderRowDef",e.displayedColumns),f.xp6(1),f.Q6J("matRowDefColumns",e.displayedColumns),f.xp6(1),f.Q6J("ngIf",0===(null==e.meta?null:e.meta.total)),f.xp6(1),f.Q6J("ngIf",f.lcZ(42,21,null==e.dataSource?null:e.dataSource.loading$)||e.loader),f.xp6(2),f.Q6J("length",null==e.meta?null:e.meta.total)("pageIndex",e.pageIndex)("pageSizeOptions",e.pageSizeOptions)}},directives:[yt.A,T.KE,C.Nt,A.O5,Ot.BZ,i.YE,Ot.w1,Ot.fO,Ot.Dz,Ot.as,Ot.nj,r.NW,O.lW,a.rH,M.Hw,T.qo,T.R9,Ot.ge,i.nU,Ot.ev,Mt.gM,Ot.XQ,Ot.Gk,P.pW],pipes:[N.X$,A.Ov],styles:[".fab-container[_ngcontent-%COMP%]{position:fixed;bottom:35px;right:35px;z-index:100;display:flex;flex-direction:column-reverse;align-items:center}.fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;margin-bottom:5px}.fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:17px}.fab-toggler[_ngcontent-%COMP%]{float:right;z-index:100}.card[_ngcontent-%COMP%]{background:none repeat scroll 0 0 #FFFFFF;border-radius:4px;color:#444}.card-container[_ngcontent-%COMP%], .front[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]{width:100%;height:390px;border-radius:4px}.card[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{height:105px;overflow:hidden;border-radius:4px 4px 0 0}.card[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.user[_ngcontent-%COMP%]{border-radius:50%;display:block;height:120px;margin:-55px auto 0;overflow:hidden;width:120px;box-shadow:0 16px 38px -12px rgba(0,0,0,.561),0 4px 25px rgba(0,0,0,.122),0 8px 10px -5px rgba(0,0,0,.2)}.card[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:none repeat scroll 0 0 #FFFFFF;border:4px solid #FFFFFF;width:100%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:rgba(0,0,0,0);box-shadow:none;padding:10px 20px 20px}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{min-height:160px}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:215px}.card[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:22px;line-height:28px;margin:10px 0 0;text-align:center;text-transform:capitalize}.card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:5px 0;font-weight:400;line-height:20px}.card[_ngcontent-%COMP%]   .profession[_ngcontent-%COMP%]{color:#999;text-align:center;margin-bottom:20px}.card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{border-top:1px solid #EEEEEE;color:#999;margin:0;padding:10px 0 0;text-align:center}.card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{font-size:18px}.card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 7px}.card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn-simple[_ngcontent-%COMP%]{margin-top:-6px}.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:15px 20px;height:90px}.card[_ngcontent-%COMP%]   .motto[_ngcontent-%COMP%]{border-bottom:1px solid #EEEEEE;color:#999;font-size:14px;font-weight:400;padding-bottom:10px;text-align:center}.card[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]{width:100%;margin-top:20px;display:flex;justify-content:center}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]{display:block;float:left;width:33.333333%;text-align:center}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]:first-child{border-right:1px solid #EEEEEE}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]:last-child{border-left:1px solid #EEEEEE}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:300;margin-bottom:5px}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777}.title[_ngcontent-%COMP%]{color:#506a85;text-align:center;font-weight:300;font-size:44px;margin-bottom:90px;line-height:90%}.title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:17px;color:#999;text-transform:uppercase;margin:0}.space-30[_ngcontent-%COMP%]{height:30px;display:block}.space-50[_ngcontent-%COMP%]{height:50px;display:block}.space-200[_ngcontent-%COMP%]{height:200px;display:block}.white-board[_ngcontent-%COMP%]{background-color:#fff;min-height:200px;padding:60px 60px 20px}.ct-heart[_ngcontent-%COMP%]{color:#f74933}pre.prettyprint[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #999;margin-top:20px;padding:20px;text-align:left}.atv[_ngcontent-%COMP%], .str[_ngcontent-%COMP%]{color:#05ae0e}.tag[_ngcontent-%COMP%], .pln[_ngcontent-%COMP%], .kwd[_ngcontent-%COMP%]{color:#3472f7}.atn[_ngcontent-%COMP%]{color:#2c93ff}.pln[_ngcontent-%COMP%]{color:#333}.com[_ngcontent-%COMP%]{color:#999}.btn-simple[_ngcontent-%COMP%]{opacity:.8;color:#666;background-color:transparent}.btn-simple[_ngcontent-%COMP%]:hover, .btn-simple[_ngcontent-%COMP%]:focus{background-color:transparent;box-shadow:none;opacity:1}.btn-simple[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.navbar-brand-logo[_ngcontent-%COMP%]{padding:0}.navbar-brand-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{border:1px solid #333333;border-radius:50%;float:left;overflow:hidden;width:60px}.navbar[_ngcontent-%COMP%]   .navbar-brand-logo[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{color:#fff;float:left;font-size:18px;font-weight:400;line-height:20px;margin-left:10px;margin-top:10px;width:60px}.navbar-default[_ngcontent-%COMP%]   .navbar-brand-logo[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{color:#555}.clickable[_ngcontent-%COMP%]{cursor:pointer}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.front[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]{-webkit-backface-visibility:visible;backface-visibility:visible}.back[_ngcontent-%COMP%]{visibility:hidden;-ms-transition:all .2s cubic-bezier(.92,.01,.83,.67)}.front[_ngcontent-%COMP%]{z-index:4}.card-container[_ngcontent-%COMP%]:not(.manual-flip):hover   .back[_ngcontent-%COMP%], .card-container.manual-flip.hover[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{z-index:5;visibility:visible}}"]}),t})();var Xt=n(25917),Vt=n(65939),te=n(33935);function ee(t,e){1&t&&(f.TgZ(0,"div",3),f.TgZ(1,"mat-icon"),f._uU(2,"error"),f.qZA(),f._uU(3," Not Found "),f.qZA())}function ne(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"div",23),f.TgZ(1,"button",24),f.TgZ(2,"mat-icon"),f._uU(3,"more_vert"),f.qZA(),f.qZA(),f.TgZ(4,"mat-menu",null,25),f.TgZ(6,"button",26),f.NdJ("click",function(){f.CHM(t);const e=f.oxw().ngIf;return f.oxw().onSelected(e)}),f.TgZ(7,"mat-icon"),f._uU(8,"edit"),f.qZA(),f.TgZ(9,"span"),f._uU(10,"Edit Tenant"),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=f.MAs(5);f.xp6(1),f.Q6J("matMenuTriggerFor",t),f.xp6(5),f.Q6J("matTooltipPosition","above")}}const ae=function(){return["edit-tenant","delete-tenant"]},oe=function(){return{exact:!0}},re=function(){return["leases"]},ie=function(){return["payments"]};function le(t,e){if(1&t&&(f.TgZ(0,"div",4),f.TgZ(1,"div",5),f.TgZ(2,"div",6),f.TgZ(3,"div",7),f.TgZ(4,"div",8),f.TgZ(5,"div",5),f.TgZ(6,"div",9),f.TgZ(7,"h4",10),f._uU(8,"Tenant Details"),f.qZA(),f.TgZ(9,"p",11),f._uU(10),f.qZA(),f.qZA(),f.YNc(11,ne,11,2,"div",12),f.qZA(),f.qZA(),f.TgZ(12,"div",13),f.TgZ(13,"nav",14),f.TgZ(14,"a",15,16),f.TgZ(16,"span",17),f._uU(17," Info "),f.qZA(),f.qZA(),f.TgZ(18,"a",18,19),f.TgZ(20,"span",17),f._uU(21," Leases "),f.qZA(),f.qZA(),f.TgZ(22,"a",18,20),f.TgZ(24,"span",17),f._uU(25," Payments "),f.qZA(),f.qZA(),f.qZA(),f._UZ(26,"router-outlet"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(27,"div",21),f.TgZ(28,"div",7),f.TgZ(29,"div",8),f.TgZ(30,"h4",10),f._uU(31,"Summary"),f.qZA(),f._UZ(32,"p",11),f.qZA(),f.TgZ(33,"div",13),f.TgZ(34,"div",22),f._uU(35," First Name: "),f.qZA(),f.TgZ(36,"div"),f._uU(37),f.qZA(),f.TgZ(38,"div",22),f._uU(39," Middle Name: "),f.qZA(),f.TgZ(40,"div"),f._uU(41),f.qZA(),f.TgZ(42,"div",22),f._uU(43," Last Name: "),f.qZA(),f.TgZ(44,"div"),f._uU(45),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t){const t=e.ngIf,n=f.MAs(15),a=f.MAs(19),o=f.MAs(23),r=f.oxw();f.xp6(10),f.AsE("",null==t?null:t.first_name," ",null==t?null:t.last_name,""),f.xp6(1),f.Q6J("robiPermission",f.DdM(13,ae)),f.xp6(3),f.MGl("routerLink","/tenants/",r.tenantID,""),f.Q6J("active",n.isActive)("routerLinkActiveOptions",f.DdM(14,oe)),f.xp6(4),f.Q6J("active",a.isActive)("routerLink",f.DdM(15,re)),f.xp6(4),f.Q6J("active",o.isActive)("routerLink",f.DdM(16,ie)),f.xp6(15),f.Oqu(null==t?null:t.first_name),f.xp6(4),f.Oqu(null==t?null:t.middle_name),f.xp6(4),f.Oqu(null==t?null:t.last_name)}}let ce=(()=>{class t{constructor(t,e,n,a,o,r){this.fb=t,this.dialog=e,this.notification=n,this.tenantService=a,this.router=o,this.route=r,this.loader=!1}ngOnInit(){this.tenantID=this.route.snapshot.paramMap.get("id"),this.tenantService.selectedTenantChanges$.subscribe(t=>{t&&(this.tenantData$=(0,Xt.of)(t)),t||this.tenantService.getById(this.tenantID).subscribe(t=>{this.tenantData$=(0,Xt.of)(t),this.tenantService.changeSelectedTenant(t)})})}addDialog(t,e){const n=new o.vA;n.disableClose=!0,n.autoFocus=!0,n.data={property:e,mode:t},this.dialog.open(Tt,n).afterClosed().subscribe(t=>{})}onOutletActivated(t){}ngAfterViewInit(){}onSelected(t){this.tenantService.changeSelectedTenant(t)}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(Z.qu),f.Y36(o.uw),f.Y36(b.g),f.Y36(_.a),f.Y36(a.F0),f.Y36(a.gz))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-view-tenant"]],decls:5,vars:4,consts:[[1,"main-content"],["no_data",""],["class","container-fluid",4,"ngIf","ngIfElse"],[1,"not-found"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-info"],[1,"col-8"],[1,"card-title"],[1,"card-category"],["class","col-4 text-right",4,"robiPermission"],[1,"card-body"],["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"active","routerLinkActiveOptions","routerLink"],["general","routerLinkActive"],[1,"nav-text"],["mat-tab-link","","routerLinkActive","",3,"active","routerLink"],["leases","routerLinkActive"],["payments","routerLinkActive"],[1,"col-md-4"],[1,"card-category","text-gray"],[1,"col-4","text-right"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","matTooltip","Edit Tenant.","routerLink","edit",3,"matTooltipPosition","click"]],template:function(t,e){if(1&t&&(f.TgZ(0,"div",0),f.YNc(1,ee,4,0,"ng-template",null,1,f.W1O),f.YNc(3,le,46,17,"div",2),f.ALo(4,"async"),f.qZA()),2&t){const t=f.MAs(2);f.xp6(3),f.Q6J("ngIf",f.lcZ(4,2,e.tenantData$))("ngIfElse",t)}},directives:[A.O5,M.Hw,yt.A,Vt.BU,a.yS,Vt.Nj,a.Od,a.lC,O.lW,te.p6,te.VK,te.OP,Mt.gM,a.rH],pipes:[A.Ov],styles:[".fab-container[_ngcontent-%COMP%]{position:fixed;bottom:35px;right:35px;z-index:100;display:flex;flex-direction:column-reverse;align-items:center}.fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;margin-bottom:5px}.fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:17px}.fab-toggler[_ngcontent-%COMP%]{float:right;z-index:100}.card[_ngcontent-%COMP%]{background:none repeat scroll 0 0 #FFFFFF;border-radius:4px;color:#444}.card-container[_ngcontent-%COMP%], .front[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]{width:100%;height:390px;border-radius:4px}.card[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{height:105px;overflow:hidden;border-radius:4px 4px 0 0}.card[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.user[_ngcontent-%COMP%]{border-radius:50%;display:block;height:120px;margin:-55px auto 0;overflow:hidden;width:120px;box-shadow:0 16px 38px -12px rgba(0,0,0,.561),0 4px 25px rgba(0,0,0,.122),0 8px 10px -5px rgba(0,0,0,.2)}.card[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:none repeat scroll 0 0 #FFFFFF;border:4px solid #FFFFFF;width:100%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:rgba(0,0,0,0);box-shadow:none;padding:10px 20px 20px}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{min-height:160px}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:215px}.card[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:22px;line-height:28px;margin:10px 0 0;text-align:center;text-transform:capitalize}.card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:5px 0;font-weight:400;line-height:20px}.card[_ngcontent-%COMP%]   .profession[_ngcontent-%COMP%]{color:#999;text-align:center;margin-bottom:20px}.card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{border-top:1px solid #EEEEEE;color:#999;margin:0;padding:10px 0 0;text-align:center}.card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{font-size:18px}.card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 7px}.card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn-simple[_ngcontent-%COMP%]{margin-top:-6px}.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:15px 20px;height:90px}.card[_ngcontent-%COMP%]   .motto[_ngcontent-%COMP%]{border-bottom:1px solid #EEEEEE;color:#999;font-size:14px;font-weight:400;padding-bottom:10px;text-align:center}.card[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]{width:100%;margin-top:20px;display:flex;justify-content:center}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]{display:block;float:left;width:33.333333%;text-align:center}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]:first-child{border-right:1px solid #EEEEEE}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]:last-child{border-left:1px solid #EEEEEE}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:300;margin-bottom:5px}.card[_ngcontent-%COMP%]   .property-stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777}.title[_ngcontent-%COMP%]{color:#506a85;text-align:center;font-weight:300;font-size:44px;margin-bottom:90px;line-height:90%}.title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:17px;color:#999;text-transform:uppercase;margin:0}.space-30[_ngcontent-%COMP%]{height:30px;display:block}.space-50[_ngcontent-%COMP%]{height:50px;display:block}.space-200[_ngcontent-%COMP%]{height:200px;display:block}.white-board[_ngcontent-%COMP%]{background-color:#fff;min-height:200px;padding:60px 60px 20px}.ct-heart[_ngcontent-%COMP%]{color:#f74933}pre.prettyprint[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #999;margin-top:20px;padding:20px;text-align:left}.atv[_ngcontent-%COMP%], .str[_ngcontent-%COMP%]{color:#05ae0e}.tag[_ngcontent-%COMP%], .pln[_ngcontent-%COMP%], .kwd[_ngcontent-%COMP%]{color:#3472f7}.atn[_ngcontent-%COMP%]{color:#2c93ff}.pln[_ngcontent-%COMP%]{color:#333}.com[_ngcontent-%COMP%]{color:#999}.btn-simple[_ngcontent-%COMP%]{opacity:.8;color:#666;background-color:transparent}.btn-simple[_ngcontent-%COMP%]:hover, .btn-simple[_ngcontent-%COMP%]:focus{background-color:transparent;box-shadow:none;opacity:1}.btn-simple[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.navbar-brand-logo[_ngcontent-%COMP%]{padding:0}.navbar-brand-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{border:1px solid #333333;border-radius:50%;float:left;overflow:hidden;width:60px}.navbar[_ngcontent-%COMP%]   .navbar-brand-logo[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{color:#fff;float:left;font-size:18px;font-weight:400;line-height:20px;margin-left:10px;margin-top:10px;width:60px}.navbar-default[_ngcontent-%COMP%]   .navbar-brand-logo[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{color:#555}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.front[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]{-webkit-backface-visibility:visible;backface-visibility:visible}.back[_ngcontent-%COMP%]{visibility:hidden;-ms-transition:all .2s cubic-bezier(.92,.01,.83,.67)}.front[_ngcontent-%COMP%]{z-index:4}.card-container[_ngcontent-%COMP%]:not(.manual-flip):hover   .back[_ngcontent-%COMP%], .card-container.manual-flip.hover[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{z-index:5;visibility:visible}}"]}),t})(),se=(()=>{class t{constructor(t,e,n,a,o,r){this.fb=t,this.dialog=e,this.notification=n,this.tenantService=a,this.router=o,this.route=r,this.memberId="",this.profilePicFileToUpload=null,this.loader=!1,this.memberShipForm=!1}ngOnInit(){this.tenantID=this.route.snapshot.paramMap.get("id"),this.tenantService.selectedTenantChanges$.subscribe(t=>{t&&(this.tenantData$=(0,Xt.of)(t)),t||this.tenantService.getById(this.tenantID).subscribe(t=>{this.tenantData$=(0,Xt.of)(t),this.tenantService.changeSelectedTenant(t)})})}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(Z.qu),f.Y36(o.uw),f.Y36(b.g),f.Y36(_.a),f.Y36(a.F0),f.Y36(a.gz))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-view-tenant-general"]],decls:109,vars:48,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"col-sm-12"],["color","primary","appearance","legacy",1,"full-width"],["matInput","","placeholder","First Name","disabled","",3,"value"],[1,"col-sm-6"],["matInput","","placeholder","Middle Name","disabled","",3,"value"],["matInput","","placeholder","Last Name","disabled","",3,"value"],["matInput","","placeholder","Gender","disabled","",3,"value"],["matInput","","placeholder","Date of Birth","disabled","",3,"value"],["matInput","","placeholder","National ID / Passport Number","disabled","",3,"value"],["matInput","","placeholder","Marital Status","disabled","",3,"value"],["matInput","","placeholder","Nationality","disabled","",3,"value"],["matInput","","placeholder","Phone","disabled","",3,"value"],["matInput","","placeholder","Email","disabled","",3,"value"],["matInput","","placeholder","County","disabled","",3,"value"],["matInput","","placeholder","City","disabled","",3,"value"],["matInput","","placeholder","Postal Code","disabled","",3,"value"],["matInput","","placeholder","Postal Address","disabled","",3,"value"],["matInput","","placeholder","Residential Address","disabled","",3,"value"]],template:function(t,e){if(1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"div",0),f.TgZ(5,"div",4),f.TgZ(6,"mat-form-field",5),f.TgZ(7,"mat-label"),f._uU(8,"Tenant Type"),f.qZA(),f._UZ(9,"input",6),f.ALo(10,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(11,"div",0),f.TgZ(12,"div",7),f.TgZ(13,"mat-form-field",5),f.TgZ(14,"mat-label"),f._uU(15,"First Name"),f.qZA(),f._UZ(16,"input",6),f.ALo(17,"async"),f.qZA(),f.qZA(),f.TgZ(18,"div",7),f.TgZ(19,"mat-form-field",5),f.TgZ(20,"mat-label"),f._uU(21,"Middle Name"),f.qZA(),f._UZ(22,"input",8),f.ALo(23,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(24,"div",0),f.TgZ(25,"div",7),f.TgZ(26,"mat-form-field",5),f.TgZ(27,"mat-label"),f._uU(28,"Last Name"),f.qZA(),f._UZ(29,"input",9),f.ALo(30,"async"),f.qZA(),f.qZA(),f.TgZ(31,"div",7),f.TgZ(32,"mat-form-field",5),f.TgZ(33,"mat-label"),f._uU(34,"Gender"),f.qZA(),f._UZ(35,"input",10),f.ALo(36,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(37,"div",0),f.TgZ(38,"div",7),f.TgZ(39,"mat-form-field",5),f.TgZ(40,"mat-label"),f._uU(41,"Date of Birth"),f.qZA(),f._UZ(42,"input",11),f.ALo(43,"async"),f.qZA(),f.qZA(),f.TgZ(44,"div",7),f.TgZ(45,"mat-form-field",5),f.TgZ(46,"mat-label"),f._uU(47,"National ID / Passport Number"),f.qZA(),f._UZ(48,"input",12),f.ALo(49,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(50,"div",0),f.TgZ(51,"div",7),f.TgZ(52,"mat-form-field",5),f.TgZ(53,"mat-label"),f._uU(54,"Marital Status"),f.qZA(),f._UZ(55,"input",13),f.ALo(56,"async"),f.qZA(),f.qZA(),f.TgZ(57,"div",7),f.TgZ(58,"mat-form-field",5),f.TgZ(59,"mat-label"),f._uU(60,"Nationality"),f.qZA(),f._UZ(61,"input",14),f.ALo(62,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(63,"div",0),f.TgZ(64,"div",7),f.TgZ(65,"mat-form-field",5),f.TgZ(66,"mat-label"),f._uU(67,"Phone"),f.qZA(),f._UZ(68,"input",15),f.ALo(69,"async"),f.qZA(),f.qZA(),f.TgZ(70,"div",7),f.TgZ(71,"mat-form-field",5),f.TgZ(72,"mat-label"),f._uU(73,"Email"),f.qZA(),f._UZ(74,"input",16),f.ALo(75,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(76,"div",0),f.TgZ(77,"div",7),f.TgZ(78,"mat-form-field",5),f.TgZ(79,"mat-label"),f._uU(80,"County"),f.qZA(),f._UZ(81,"input",17),f.ALo(82,"async"),f.qZA(),f.qZA(),f.TgZ(83,"div",7),f.TgZ(84,"mat-form-field",5),f.TgZ(85,"mat-label"),f._uU(86,"City"),f.qZA(),f._UZ(87,"input",18),f.ALo(88,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(89,"div",0),f.TgZ(90,"div",7),f.TgZ(91,"mat-form-field",5),f.TgZ(92,"mat-label"),f._uU(93,"Postal Code"),f.qZA(),f._UZ(94,"input",19),f.ALo(95,"async"),f.qZA(),f.qZA(),f.TgZ(96,"div",7),f.TgZ(97,"mat-form-field",5),f.TgZ(98,"mat-label"),f._uU(99,"Postal Address"),f.qZA(),f._UZ(100,"input",20),f.ALo(101,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(102,"div",0),f.TgZ(103,"div",4),f.TgZ(104,"mat-form-field",5),f.TgZ(105,"mat-label"),f._uU(106,"Residential Address"),f.qZA(),f._UZ(107,"input",21),f.ALo(108,"async"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t){let t,n,a,o,r,i,l,c,s,m,u,d,p,g,Z,_;f.xp6(9),f.s9C("value",null==(t=f.lcZ(10,16,e.tenantData$))||null==t.tenant_type?null:t.tenant_type.tenant_type_display_name),f.xp6(7),f.s9C("value",null==(n=f.lcZ(17,18,e.tenantData$))?null:n.first_name),f.xp6(6),f.s9C("value",null==(a=f.lcZ(23,20,e.tenantData$))?null:a.middle_name),f.xp6(7),f.s9C("value",null==(o=f.lcZ(30,22,e.tenantData$))?null:o.last_name),f.xp6(6),f.s9C("value",null==(r=f.lcZ(36,24,e.tenantData$))?null:r.gender),f.xp6(7),f.s9C("value",null==(i=f.lcZ(43,26,e.tenantData$))?null:i.date_of_birth),f.xp6(6),f.s9C("value",null==(l=f.lcZ(49,28,e.tenantData$))?null:l.id_number),f.xp6(7),f.s9C("value",null==(c=f.lcZ(56,30,e.tenantData$))?null:c.marital_status),f.xp6(6),f.s9C("value",null==(s=f.lcZ(62,32,e.tenantData$))?null:s.nationality),f.xp6(7),f.s9C("value",null==(m=f.lcZ(69,34,e.tenantData$))?null:m.phone),f.xp6(6),f.s9C("value",null==(u=f.lcZ(75,36,e.tenantData$))?null:u.email),f.xp6(7),f.s9C("value",null==(d=f.lcZ(82,38,e.tenantData$))?null:d.county),f.xp6(6),f.s9C("value",null==(p=f.lcZ(88,40,e.tenantData$))?null:p.city),f.xp6(7),f.s9C("value",null==(g=f.lcZ(95,42,e.tenantData$))?null:g.postal_code),f.xp6(6),f.s9C("value",null==(Z=f.lcZ(101,44,e.tenantData$))?null:Z.postal_address),f.xp6(7),f.s9C("value",null==(_=f.lcZ(108,46,e.tenantData$))?null:_.residential_address)}},directives:[T.KE,T.hX,C.Nt],pipes:[A.Ov],styles:[".image[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}"]}),t})();var me=n(35110),ue=n(97788);const de=["search"];function pe(t,e){1&t&&(f.TgZ(0,"mat-header-cell",20),f._uU(1," Number "),f.qZA())}function ge(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-cell"),f.TgZ(1,"button",21),f.NdJ("click",function(){const e=f.CHM(t).$implicit;return f.oxw().onLeaseSelected(e)}),f.TgZ(2,"span",22),f._uU(3),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=e.$implicit;f.xp6(1),f.MGl("routerLink","/leases/",null==t?null:t.id,""),f.xp6(2),f.Oqu(t.lease_number)}}function fe(t,e){1&t&&(f.TgZ(0,"mat-header-cell",20),f._uU(1," Unit "),f.qZA())}function Ze(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.unit_names," ")}}function _e(t,e){1&t&&(f.TgZ(0,"mat-header-cell",20),f._uU(1," Amount "),f.qZA())}function he(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.rent_amount," ")}}function xe(t,e){1&t&&(f.TgZ(0,"mat-header-cell",20),f._uU(1," Lease Type "),f.qZA())}function be(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",null==t.lease_type?null:t.lease_type.lease_type_display_name," ")}}function Ae(t,e){1&t&&(f.TgZ(0,"mat-header-cell",20),f._uU(1," Due On "),f.qZA())}function ve(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.due_on," ")}}function Te(t,e){1&t&&(f.TgZ(0,"mat-header-cell",20),f._uU(1," Frequency "),f.qZA())}function qe(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.billing_frequency," ")}}function Ce(t,e){1&t&&(f.TgZ(0,"mat-header-cell",20),f._uU(1," Last Billing "),f.qZA())}function ye(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.billed_on," ")}}function Oe(t,e){1&t&&(f.TgZ(0,"mat-header-cell"),f._uU(1," Status "),f.qZA())}function Me(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f.TgZ(1,"div"),f.TgZ(2,"mat-icon"),f._uU(3),f.qZA(),f._uU(4),f.qZA(),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.Tol(null==t.status?null:t.status.status_color),f.xp6(2),f.Oqu(null==t.status?null:t.status.status_icon),f.xp6(1),f.hij(" ",null==t.status?null:t.status.status_text," ")}}function Ue(t,e){1&t&&f._UZ(0,"mat-header-row")}function Pe(t,e){1&t&&f._UZ(0,"mat-row")}function Ne(t,e){1&t&&(f.TgZ(0,"span"),f._uU(1,"No Lease Data."),f.qZA())}function Ee(t,e){1&t&&(f.TgZ(0,"div",23),f._UZ(1,"mat-progress-bar",24),f.qZA())}let we=(()=>{class t{constructor(t,e,n){this.notification=t,this.leaseService=e,this.tenantService=n,this.leaseColumns=["lease_number","unit_names","rent_amount","lease_type_id","due_on","billing_frequency","billed_on","status"],this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.loader=!1}ngOnInit(){this.tenantService.selectedTenantChanges$.subscribe(t=>{t&&(this.tenantData=t,this.tenantID=t.id)}),this.leaseDataSource=new me.b(this.leaseService),this.leaseDataSource.meta$.subscribe(t=>this.meta=t),this.leaseDataSource.loadNested(this.tenantService.nestedLeasesUrl(this.tenantID),"",0,0)}loadData(){this.leaseDataSource.loadNested(this.tenantService.nestedLeasesUrl(this.tenantID),this.search.nativeElement.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction)}ngAfterViewInit(){this.paginator.page.pipe((0,u.b)(()=>this.loadData())).subscribe(),this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,c.T)(this.sort.sortChange,this.paginator.page).pipe((0,u.b)(()=>this.loadData())).subscribe()}clearSearch(){this.search.nativeElement.value="",this.loadData()}onLeaseSelected(t){this.leaseService.changeSelectedLease(t)}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(b.g),f.Y36(ue.R),f.Y36(_.a))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-tenant-lease"]],viewQuery:function(t,e){if(1&t&&(f.Gf(r.NW,7),f.Gf(i.YE,7),f.Gf(de,7)),2&t){let t;f.iGM(t=f.CRH())&&(e.paginator=t.first),f.iGM(t=f.CRH())&&(e.sort=t.first),f.iGM(t=f.CRH())&&(e.search=t.first)}},decls:34,vars:10,consts:[[1,"table-responsive"],["matSort","","matSortActive","lease_number","matSortDirection","desc","matSortDisableClear","",3,"dataSource"],["table",""],["matColumnDef","lease_number"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","unit_names"],["matColumnDef","rent_amount"],["matColumnDef","lease_type_id"],["matColumnDef","due_on"],["matColumnDef","billing_frequency"],["matColumnDef","billed_on"],["matColumnDef","status"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSizeOptions"],["pagination",""],["mat-sort-header",""],["mat-flat-button","",3,"routerLink","click"],[1,"link"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(t,e){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"mat-table",1,2),f.ynx(3,3),f.YNc(4,pe,2,0,"mat-header-cell",4),f.YNc(5,ge,4,2,"mat-cell",5),f.BQk(),f.ynx(6,6),f.YNc(7,fe,2,0,"mat-header-cell",4),f.YNc(8,Ze,2,1,"mat-cell",5),f.BQk(),f.ynx(9,7),f.YNc(10,_e,2,0,"mat-header-cell",4),f.YNc(11,he,2,1,"mat-cell",5),f.BQk(),f.ynx(12,8),f.YNc(13,xe,2,0,"mat-header-cell",4),f.YNc(14,be,2,1,"mat-cell",5),f.BQk(),f.ynx(15,9),f.YNc(16,Ae,2,0,"mat-header-cell",4),f.YNc(17,ve,2,1,"mat-cell",5),f.BQk(),f.ynx(18,10),f.YNc(19,Te,2,0,"mat-header-cell",4),f.YNc(20,qe,2,1,"mat-cell",5),f.BQk(),f.ynx(21,11),f.YNc(22,Ce,2,0,"mat-header-cell",4),f.YNc(23,ye,2,1,"mat-cell",5),f.BQk(),f.ynx(24,12),f.YNc(25,Oe,2,0,"mat-header-cell",13),f.YNc(26,Me,5,5,"mat-cell",5),f.BQk(),f.YNc(27,Ue,1,0,"mat-header-row",14),f.YNc(28,Pe,1,0,"mat-row",15),f.qZA(),f.YNc(29,Ne,2,0,"span",16),f.YNc(30,Ee,2,0,"div",17),f.ALo(31,"async"),f._UZ(32,"mat-paginator",18,19),f.qZA()),2&t&&(f.xp6(1),f.Q6J("dataSource",e.leaseDataSource),f.xp6(26),f.Q6J("matHeaderRowDef",e.leaseColumns),f.xp6(1),f.Q6J("matRowDefColumns",e.leaseColumns),f.xp6(1),f.Q6J("ngIf",0===(null==e.meta?null:e.meta.total)),f.xp6(1),f.Q6J("ngIf",f.lcZ(31,8,null==e.leaseDataSource?null:e.leaseDataSource.loading$)||e.loader),f.xp6(2),f.Q6J("length",null==e.meta?null:e.meta.total)("pageIndex",e.pageIndex)("pageSizeOptions",e.pageSizeOptions))},directives:[Ot.BZ,i.YE,Ot.w1,Ot.fO,Ot.Dz,Ot.as,Ot.nj,A.O5,r.NW,Ot.ge,i.nU,Ot.ev,O.lW,a.rH,M.Hw,Ot.XQ,Ot.Gk,P.pW],pipes:[A.Ov],styles:[""]}),t})();var De=n(89614),Se=n(20852);const Ie=["search"];function ke(t,e){1&t&&(f.TgZ(0,"mat-header-cell",19),f._uU(1," Invoice Number "),f.qZA())}function Ye(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-cell"),f.TgZ(1,"button",20),f.NdJ("click",function(){const e=f.CHM(t).$implicit;return f.oxw().onInvoiceSelected(e)}),f.TgZ(2,"span",21),f._uU(3),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=e.$implicit;f.xp6(1),f.MGl("routerLink","/invoices/",null==t?null:t.id,""),f.xp6(2),f.Oqu(t.invoice_number)}}function Qe(t,e){1&t&&(f.TgZ(0,"mat-header-cell",19),f._uU(1," Invoice Date "),f.qZA())}function Je(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.Oqu(t.invoice_date)}}function Fe(t,e){1&t&&(f.TgZ(0,"mat-header-cell"),f._uU(1," Invoice Amount "),f.qZA())}function $e(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",null==t.summary?null:t.summary.invoice_amount," ")}}function Le(t,e){1&t&&(f.TgZ(0,"mat-header-cell"),f._uU(1," Paid Amount "),f.qZA())}function Ge(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",null==t.summary?null:t.summary.amount_paid," ")}}function je(t,e){1&t&&(f.TgZ(0,"mat-header-cell"),f._uU(1," Invoice Balance "),f.qZA())}function Be(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",null==t.summary?null:t.summary.amount_due," ")}}function ze(t,e){1&t&&(f.TgZ(0,"mat-header-cell",19),f._uU(1," Due Date "),f.qZA())}function Re(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.due_date," ")}}function He(t,e){1&t&&(f.TgZ(0,"mat-header-cell"),f._uU(1," Status "),f.qZA())}function Ke(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f.TgZ(1,"div"),f.TgZ(2,"mat-icon"),f._uU(3),f.qZA(),f._uU(4),f.qZA(),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.Tol(null==t.summary||null==t.summary.status?null:t.summary.status.status_color),f.xp6(2),f.Oqu(null==t.summary||null==t.summary.status?null:t.summary.status.status_icon),f.xp6(1),f.hij(" ",null==t.summary||null==t.summary.status?null:t.summary.status.status_text," ")}}function We(t,e){1&t&&f._UZ(0,"mat-header-row")}function Xe(t,e){1&t&&f._UZ(0,"mat-row")}function Ve(t,e){1&t&&(f.TgZ(0,"span"),f._uU(1,"No Lease Data."),f.qZA())}function tn(t,e){1&t&&(f.TgZ(0,"div",22),f._UZ(1,"mat-progress-bar",23),f.qZA())}let en=(()=>{class t{constructor(t,e,n){this.notification=t,this.tenantService=e,this.invoiceService=n,this.invoiceColumns=["invoice_number","invoice_date","invoice_amount","amount_paid","amount_due","due_date","status"],this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.loader=!1}ngOnInit(){this.tenantService.selectedTenantChanges$.subscribe(t=>{t&&(this.tenantData=t,this.tenantID=t.id)}),this.invoiceDataSource=new De.X(this.invoiceService),this.invoiceDataSource.meta$.subscribe(t=>this.meta=t),this.invoiceDataSource.loadNested(this.tenantService.nestedInvoicesUrl(this.tenantID),"",0,0)}loadData(){this.invoiceDataSource.loadNested(this.tenantService.nestedInvoicesUrl(this.tenantID),this.search.nativeElement.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction)}ngAfterViewInit(){this.paginator.page.pipe((0,u.b)(()=>this.loadData())).subscribe(),this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,c.T)(this.sort.sortChange,this.paginator.page).pipe((0,u.b)(()=>this.loadData())).subscribe()}clearSearch(){this.search.nativeElement.value="",this.loadData()}onInvoiceSelected(t){this.invoiceService.changeSelectedInvoice(t)}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(b.g),f.Y36(_.a),f.Y36(Se.q))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-tenant-invoice"]],viewQuery:function(t,e){if(1&t&&(f.Gf(r.NW,7),f.Gf(i.YE,7),f.Gf(Ie,7)),2&t){let t;f.iGM(t=f.CRH())&&(e.paginator=t.first),f.iGM(t=f.CRH())&&(e.sort=t.first),f.iGM(t=f.CRH())&&(e.search=t.first)}},decls:31,vars:10,consts:[[1,"table-responsive"],["matSort","","matSortActive","invoice_number","matSortDirection","desc","matSortDisableClear","",3,"dataSource"],["table",""],["matColumnDef","invoice_number"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","invoice_date"],["matColumnDef","invoice_amount"],[4,"matHeaderCellDef"],["matColumnDef","amount_paid"],["matColumnDef","amount_due"],["matColumnDef","due_date"],["matColumnDef","status"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSizeOptions"],["pagination",""],["mat-sort-header",""],["mat-flat-button","",3,"routerLink","click"],[1,"link"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(t,e){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"mat-table",1,2),f.ynx(3,3),f.YNc(4,ke,2,0,"mat-header-cell",4),f.YNc(5,Ye,4,2,"mat-cell",5),f.BQk(),f.ynx(6,6),f.YNc(7,Qe,2,0,"mat-header-cell",4),f.YNc(8,Je,2,1,"mat-cell",5),f.BQk(),f.ynx(9,7),f.YNc(10,Fe,2,0,"mat-header-cell",8),f.YNc(11,$e,2,1,"mat-cell",5),f.BQk(),f.ynx(12,9),f.YNc(13,Le,2,0,"mat-header-cell",8),f.YNc(14,Ge,2,1,"mat-cell",5),f.BQk(),f.ynx(15,10),f.YNc(16,je,2,0,"mat-header-cell",8),f.YNc(17,Be,2,1,"mat-cell",5),f.BQk(),f.ynx(18,11),f.YNc(19,ze,2,0,"mat-header-cell",4),f.YNc(20,Re,2,1,"mat-cell",5),f.BQk(),f.ynx(21,12),f.YNc(22,He,2,0,"mat-header-cell",8),f.YNc(23,Ke,5,5,"mat-cell",5),f.BQk(),f.YNc(24,We,1,0,"mat-header-row",13),f.YNc(25,Xe,1,0,"mat-row",14),f.qZA(),f.YNc(26,Ve,2,0,"span",15),f.YNc(27,tn,2,0,"div",16),f.ALo(28,"async"),f._UZ(29,"mat-paginator",17,18),f.qZA()),2&t&&(f.xp6(1),f.Q6J("dataSource",e.invoiceDataSource),f.xp6(23),f.Q6J("matHeaderRowDef",e.invoiceColumns),f.xp6(1),f.Q6J("matRowDefColumns",e.invoiceColumns),f.xp6(1),f.Q6J("ngIf",0===(null==e.meta?null:e.meta.total)),f.xp6(1),f.Q6J("ngIf",f.lcZ(28,8,null==e.invoiceDataSource?null:e.invoiceDataSource.loading$)||e.loader),f.xp6(2),f.Q6J("length",null==e.meta?null:e.meta.total)("pageIndex",e.pageIndex)("pageSizeOptions",e.pageSizeOptions))},directives:[Ot.BZ,i.YE,Ot.w1,Ot.fO,Ot.Dz,Ot.as,Ot.nj,A.O5,r.NW,Ot.ge,i.nU,Ot.ev,O.lW,a.rH,M.Hw,Ot.XQ,Ot.Gk,P.pW],pipes:[A.Ov],styles:[""]}),t})();var nn=n(5255),an=n(96284);const on=["search"];function rn(t,e){1&t&&(f.TgZ(0,"mat-header-cell",17),f._uU(1," Amount "),f.qZA())}function ln(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.amount," ")}}function cn(t,e){1&t&&(f.TgZ(0,"mat-header-cell",17),f._uU(1," Payment Date "),f.qZA())}function sn(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.payment_date," ")}}function mn(t,e){1&t&&(f.TgZ(0,"mat-header-cell",17),f._uU(1," Lease "),f.qZA())}function un(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",null==t||null==t.lease?null:t.lease.lease_number," ")}}function dn(t,e){1&t&&(f.TgZ(0,"mat-header-cell",17),f._uU(1," Property "),f.qZA())}function pn(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",null==t||null==t.property?null:t.property.property_name," ")}}function gn(t,e){1&t&&(f.TgZ(0,"mat-header-cell",17),f._uU(1," Receipt Number "),f.qZA())}function fn(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.receipt_number," ")}}function Zn(t,e){1&t&&(f.TgZ(0,"mat-header-cell",17),f._uU(1," Status "),f.qZA())}function _n(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f.TgZ(1,"button",18),f.TgZ(2,"mat-icon"),f._uU(3),f.qZA(),f._uU(4),f.qZA(),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.Tol(null==t.status?null:t.status.status_class),f.xp6(2),f.Oqu(null==t.status?null:t.status.status_icon),f.xp6(1),f.hij(" ",null==t.status?null:t.status.status_text," ")}}function hn(t,e){1&t&&f._UZ(0,"mat-header-row")}function xn(t,e){1&t&&f._UZ(0,"mat-row")}function bn(t,e){1&t&&(f.TgZ(0,"span"),f._uU(1,"No Payments Data"),f.qZA())}function An(t,e){1&t&&(f.TgZ(0,"div",19),f._UZ(1,"mat-progress-bar",20),f.qZA())}let vn=(()=>{class t{constructor(t,e,n){this.notification=t,this.paymentService=e,this.tenantService=n,this.displayedColumns=["amount","payment_date","lease_id","property_id","receipt_number","payment_status"],this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.loader=!1}ngOnInit(){this.tenantService.selectedTenantChanges$.subscribe(t=>{t&&(this.tenantData=t,this.tenantID=t.id)}),this.paymentDataSource=new nn.U(this.paymentService),this.paymentDataSource.meta$.subscribe(t=>this.meta=t),this.paymentDataSource.loadNested(this.tenantService.nestedPaymentsUrl(this.tenantID),"",0,0)}loadData(){this.paymentDataSource.loadNested(this.tenantService.nestedPaymentsUrl(this.tenantID),this.search.nativeElement.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction)}ngAfterViewInit(){this.paginator.page.pipe((0,u.b)(()=>this.loadData())).subscribe(),this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,c.T)(this.sort.sortChange,this.paginator.page).pipe((0,u.b)(()=>this.loadData())).subscribe()}clearSearch(){this.search.nativeElement.value="",this.loadData()}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(b.g),f.Y36(an.t),f.Y36(_.a))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-tenant-payment"]],viewQuery:function(t,e){if(1&t&&(f.Gf(r.NW,7),f.Gf(i.YE,7),f.Gf(on,7)),2&t){let t;f.iGM(t=f.CRH())&&(e.paginator=t.first),f.iGM(t=f.CRH())&&(e.sort=t.first),f.iGM(t=f.CRH())&&(e.search=t.first)}},decls:28,vars:10,consts:[[1,"table-responsive"],["matSort","","matSortActive","payment_date","matSortDirection","desc","matSortDisableClear","",3,"dataSource"],["table",""],["matColumnDef","amount"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","payment_date"],["matColumnDef","lease_id"],["matColumnDef","property_id"],["matColumnDef","receipt_number"],["matColumnDef","payment_status"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSizeOptions"],["pagination",""],["mat-sort-header",""],["mat-button",""],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(t,e){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"mat-table",1,2),f.ynx(3,3),f.YNc(4,rn,2,0,"mat-header-cell",4),f.YNc(5,ln,2,1,"mat-cell",5),f.BQk(),f.ynx(6,6),f.YNc(7,cn,2,0,"mat-header-cell",4),f.YNc(8,sn,2,1,"mat-cell",5),f.BQk(),f.ynx(9,7),f.YNc(10,mn,2,0,"mat-header-cell",4),f.YNc(11,un,2,1,"mat-cell",5),f.BQk(),f.ynx(12,8),f.YNc(13,dn,2,0,"mat-header-cell",4),f.YNc(14,pn,2,1,"mat-cell",5),f.BQk(),f.ynx(15,9),f.YNc(16,gn,2,0,"mat-header-cell",4),f.YNc(17,fn,2,1,"mat-cell",5),f.BQk(),f.ynx(18,10),f.YNc(19,Zn,2,0,"mat-header-cell",4),f.YNc(20,_n,5,5,"mat-cell",5),f.BQk(),f.YNc(21,hn,1,0,"mat-header-row",11),f.YNc(22,xn,1,0,"mat-row",12),f.qZA(),f.YNc(23,bn,2,0,"span",13),f.YNc(24,An,2,0,"div",14),f.ALo(25,"async"),f._UZ(26,"mat-paginator",15,16),f.qZA()),2&t&&(f.xp6(1),f.Q6J("dataSource",e.paymentDataSource),f.xp6(20),f.Q6J("matHeaderRowDef",e.displayedColumns),f.xp6(1),f.Q6J("matRowDefColumns",e.displayedColumns),f.xp6(1),f.Q6J("ngIf",0===(null==e.meta?null:e.meta.total)),f.xp6(1),f.Q6J("ngIf",f.lcZ(25,8,null==e.paymentDataSource?null:e.paymentDataSource.loading$)||e.loader),f.xp6(2),f.Q6J("length",null==e.meta?null:e.meta.total)("pageIndex",e.pageIndex)("pageSizeOptions",e.pageSizeOptions))},directives:[Ot.BZ,i.YE,Ot.w1,Ot.fO,Ot.Dz,Ot.as,Ot.nj,A.O5,r.NW,Ot.ge,i.nU,Ot.ev,O.lW,M.Hw,Ot.XQ,Ot.Gk,P.pW],pipes:[A.Ov],styles:[""]}),t})();var Tn=n(82617),qn=n(81407);const Cn=["search"];function yn(t,e){1&t&&(f.TgZ(0,"mat-header-cell",13),f._uU(1," Name "),f.qZA())}function On(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.name," ")}}function Mn(t,e){1&t&&(f.TgZ(0,"mat-header-cell",13),f._uU(1," Title "),f.qZA())}function Un(t,e){if(1&t&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&t){const t=e.$implicit;f.xp6(1),f.hij(" ",t.title," ")}}function Pn(t,e){1&t&&f._UZ(0,"mat-header-row")}function Nn(t,e){1&t&&f._UZ(0,"mat-row")}function En(t,e){1&t&&(f.TgZ(0,"span"),f._uU(1,"No Lease Data."),f.qZA())}function wn(t,e){1&t&&(f.TgZ(0,"div",14),f._UZ(1,"mat-progress-bar",15),f.qZA())}const Dn=a.Bz.forChild([{path:"",component:Wt},{path:"create",component:Tt},{path:":id",component:ce,children:[{path:"",component:se},{path:"leases",component:we},{path:"invoices",component:en},{path:"payments",component:vn},{path:"documents",component:(()=>{class t{constructor(t,e,n){this.notification=t,this.documentService=e,this.tenantService=n,this.documentColumns=["name","title"],this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.loader=!1}ngOnInit(){this.tenantService.selectedTenantChanges$.subscribe(t=>{t&&(this.tenantData=t,this.tenantID=t.id)}),this.documentDataSource=new Tn.B(this.documentService),this.documentDataSource.meta$.subscribe(t=>this.meta=t),this.documentDataSource.loadNested(this.tenantService.nestedDocumentsUrl(this.tenantID),"",0,0)}loadData(){this.documentDataSource.loadNested(this.tenantService.nestedDocumentsUrl(this.tenantID),this.search.nativeElement.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction)}ngAfterViewInit(){this.paginator.page.pipe((0,u.b)(()=>this.loadData())).subscribe(),this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,c.T)(this.sort.sortChange,this.paginator.page).pipe((0,u.b)(()=>this.loadData())).subscribe()}clearSearch(){this.search.nativeElement.value="",this.loadData()}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(b.g),f.Y36(qn.Z),f.Y36(_.a))},t.\u0275cmp=f.Xpm({type:t,selectors:[["robi-tenant-document"]],viewQuery:function(t,e){if(1&t&&(f.Gf(r.NW,7),f.Gf(i.YE,7),f.Gf(Cn,7)),2&t){let t;f.iGM(t=f.CRH())&&(e.paginator=t.first),f.iGM(t=f.CRH())&&(e.sort=t.first),f.iGM(t=f.CRH())&&(e.search=t.first)}},decls:16,vars:10,consts:[[1,"table-responsive"],["matSort","","matSortActive","name","matSortDirection","desc","matSortDisableClear","",3,"dataSource"],["table",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSizeOptions"],["pagination",""],["mat-sort-header",""],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(t,e){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"mat-table",1,2),f.ynx(3,3),f.YNc(4,yn,2,0,"mat-header-cell",4),f.YNc(5,On,2,1,"mat-cell",5),f.BQk(),f.ynx(6,6),f.YNc(7,Mn,2,0,"mat-header-cell",4),f.YNc(8,Un,2,1,"mat-cell",5),f.BQk(),f.YNc(9,Pn,1,0,"mat-header-row",7),f.YNc(10,Nn,1,0,"mat-row",8),f.qZA(),f.YNc(11,En,2,0,"span",9),f.YNc(12,wn,2,0,"div",10),f.ALo(13,"async"),f._UZ(14,"mat-paginator",11,12),f.qZA()),2&t&&(f.xp6(1),f.Q6J("dataSource",e.documentDataSource),f.xp6(8),f.Q6J("matHeaderRowDef",e.documentColumns),f.xp6(1),f.Q6J("matRowDefColumns",e.documentColumns),f.xp6(1),f.Q6J("ngIf",0===(null==e.meta?null:e.meta.total)),f.xp6(1),f.Q6J("ngIf",f.lcZ(13,8,null==e.documentDataSource?null:e.documentDataSource.loading$)||e.loader),f.xp6(2),f.Q6J("length",null==e.meta?null:e.meta.total)("pageIndex",e.pageIndex)("pageSizeOptions",e.pageSizeOptions))},directives:[Ot.BZ,i.YE,Ot.w1,Ot.fO,Ot.Dz,Ot.as,Ot.nj,A.O5,r.NW,Ot.ge,i.nU,Ot.ev,Ot.XQ,Ot.Gk,P.pW],pipes:[A.Ov],styles:[""]}),t})()}]},{path:":id/edit",component:Tt}]);var Sn=n(83893);let In=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[Sn.m,Dn]]}),t})()}}]);