!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return r(this,n)}}function r(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[88],{27088:function(e,i,r){r.r(i),r.d(i,{EmailGeneralSettingModule:function(){return oe}});var c,l=r(39895),s=r(22238),u=r(99692),f=r(11494),d=r(28292),m=r(22759),p=r(66682),g=r(54395),h=r(87519),b=r(68307),v=function(e){a(i,e);var t=o(i);function i(e){return n(this,i),t.call(this,e)}return i}(r(1581).y),Z=r(3679),y=r(37716),T=r(26215),S=r(65),_=r(91841),A=((c=function(e){a(r,e);var i=o(r);function r(e){var t;return n(this,r),(t=i.call(this,e,"system_notifications")).selectedEmailGeneralSource=new T.X(null),t.selectedEmailGeneralChanges$=t.selectedEmailGeneralSource.asObservable(),t.localHttpClient=e,t}return t(r,[{key:"changeSelectedEmailGeneral",value:function(e){this.selectedEmailGeneralSource.next(e)}}]),r}(S.b)).\u0275fac=function(e){return new(e||c)(y.LFG(_.eN))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c),x=r(57404),q=r(98295),w=r(49983),C=r(38583),N=r(93738),k=r(45396),j=r(51095),E=r(12178);function Y(e,t){if(1&e&&(y.TgZ(0,"mat-error",14),y._uU(1),y.qZA()),2&e){var n=y.oxw();y.xp6(1),y.Oqu(n.formErrors.display_name)}}function D(e,t){1&e&&(y.TgZ(0,"div",15),y._UZ(1,"mat-progress-bar",16),y.qZA())}var I=function(){var e=function(){function e(t,a,i,o,r){n(this,e),this.fb=a,this.communicationGeneralSettingService=i,this.notification=o,this.dialogRef=r,this.loader=!1,this.options=[{id:!0,name:"Yes"},{id:!1,name:"No"}],this.emailTemplates=[],this.smsTemplates=[],this.communicationSetting=t.communicationSetting,this.emailTemplates=t.emailTemplates,this.smsTemplates=t.smsTemplates,this.form=a.group({display_name:[{value:this.communicationSetting.display_name,disabled:!0},[Z.kI.required,Z.kI.minLength(3)]],send_email:[this.communicationSetting.send_email],send_sms:[this.communicationSetting.send_sms]})}return t(e,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.dialogRef.close()}},{key:"updateType",value:function(){var e=this,t=Object.assign({},this.communicationSetting,this.form.value);this.loader=!0,this.communicationGeneralSettingService.update(t).subscribe(function(t){e.loader=!1,e.dialogRef.close(e.form.value),e.notification.showNotification("success","Success !! Setting has been updated.")},function(t){var n;if(e.loader=!1,0!==t.type&&(e.formErrors=t,e.formErrors))for(var a in e.formErrors)e.form&&(null===(n=e.form.controls[a])||void 0===n||n.markAsTouched(),e.form.controls[a].setErrors({incorrect:!0}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(s.WI),y.Y36(Z.qu),y.Y36(A),y.Y36(x.g),y.Y36(s.so))},e.\u0275cmp=y.Xpm({type:e,selectors:[["robi-edit-email-general"]],decls:27,vars:6,consts:[["mat-dialog-title",""],[1,"mat-dialog-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12"],["color","primary","appearance","outline",1,"full-width"],["matInput","","formControlName","display_name","placeholder","Display Name"],["align","start","class","form__error",4,"ngIf"],[1,"col-6"],["formControlName","send_email","color","primary"],["formControlName","send_sms","color","primary"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["align","center"],["mat-button","","color","accent",1,"mr-2",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","primary",3,"disabled","click"],["align","start",1,"form__error"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(e,t){1&e&&(y.TgZ(0,"h5",0),y._uU(1,"Edit Setting"),y.qZA(),y.TgZ(2,"mat-dialog-content",1),y.NdJ("ngSubmit",function(){return t.updateType()}),y.TgZ(3,"div",2),y.TgZ(4,"div",3),y.TgZ(5,"mat-form-field",4),y.TgZ(6,"mat-label"),y._uU(7,"Display Name"),y.qZA(),y._UZ(8,"input",5),y.YNc(9,Y,2,1,"mat-error",6),y.qZA(),y.qZA(),y.qZA(),y.TgZ(10,"h5"),y._uU(11,"Send notification via : "),y.qZA(),y.TgZ(12,"mat-card"),y.TgZ(13,"mat-card-content"),y.TgZ(14,"div",2),y.TgZ(15,"div",7),y.TgZ(16,"mat-slide-toggle",8),y._uU(17,"Email"),y.qZA(),y.qZA(),y.TgZ(18,"div",7),y.TgZ(19,"mat-slide-toggle",9),y._uU(20,"SMS"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(21,D,2,0,"div",10),y.TgZ(22,"mat-dialog-actions",11),y.TgZ(23,"button",12),y.NdJ("click",function(){return t.close()}),y._uU(24,"Cancel"),y.qZA(),y.TgZ(25,"button",13),y.NdJ("click",function(){return t.updateType()}),y._uU(26,"Save"),y.qZA(),y.qZA()),2&e&&(y.xp6(2),y.Q6J("formGroup",t.form),y.xp6(7),y.Q6J("ngIf",null==t.formErrors?null:t.formErrors.display_name),y.xp6(12),y.Q6J("ngIf",t.loader),y.xp6(2),y.Q6J("disabled",t.loader)("mat-dialog-close",!0),y.xp6(2),y.Q6J("disabled",!t.form.valid||t.loader))},directives:[s.uh,s.xY,Z.JL,Z.sg,q.KE,q.hX,w.Nt,Z.Fj,Z.JJ,Z.u,C.O5,N.a8,N.dn,k.Rr,s.H8,j.lW,s.ZT,q.TO,E.pW],encapsulation:2}),e}(),O=r(32789),U=r(76627),J=r(11436),Q=["search"];function R(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",27),y.NdJ("click",function(){return y.CHM(n),y.oxw().clearSearch()}),y.TgZ(1,"mat-icon"),y._uU(2,"close"),y.qZA(),y.qZA()}}function G(e,t){1&e&&(y.TgZ(0,"mat-header-cell",28),y._uU(1," Event "),y.qZA())}function H(e,t){if(1&e&&(y.TgZ(0,"mat-cell"),y._uU(1),y.qZA()),2&e){var n=t.$implicit;y.xp6(1),y.hij(" ",n.display_name," ")}}function B(e,t){1&e&&(y.TgZ(0,"mat-header-cell",28),y._uU(1," Email "),y.qZA())}function z(e,t){1&e&&(y.TgZ(0,"span"),y.TgZ(1,"i",29),y._uU(2,"done"),y.qZA(),y.qZA())}function M(e,t){1&e&&(y.TgZ(0,"span"),y.TgZ(1,"i",29),y._uU(2,"clear"),y.qZA(),y.qZA())}function $(e,t){if(1&e&&(y.TgZ(0,"mat-cell"),y.YNc(1,z,3,0,"span",23),y.YNc(2,M,3,0,"span",23),y.qZA()),2&e){var n=t.$implicit;y.xp6(1),y.Q6J("ngIf",1==n.send_email),y.xp6(1),y.Q6J("ngIf",0==n.send_email)}}function P(e,t){1&e&&(y.TgZ(0,"mat-header-cell",28),y._uU(1," Sms "),y.qZA())}function X(e,t){1&e&&(y.TgZ(0,"span"),y.TgZ(1,"i",29),y._uU(2,"done"),y.qZA(),y.qZA())}function W(e,t){1&e&&(y.TgZ(0,"span"),y.TgZ(1,"i",29),y._uU(2,"clear"),y.qZA(),y.qZA())}function F(e,t){if(1&e&&(y.TgZ(0,"mat-cell"),y.YNc(1,X,3,0,"span",23),y.YNc(2,W,3,0,"span",23),y.qZA()),2&e){var n=t.$implicit;y.xp6(1),y.Q6J("ngIf",1==n.send_sms),y.xp6(1),y.Q6J("ngIf",0==n.send_sms)}}function L(e,t){1&e&&(y.TgZ(0,"mat-header-cell"),y._uU(1," Actions "),y.qZA())}function K(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"mat-cell",30),y.TgZ(1,"button",31),y.NdJ("click",function(){var e=y.CHM(n).$implicit;return y.oxw().editDialog(e)}),y.TgZ(2,"i",29),y._uU(3,"edit"),y.qZA(),y.qZA(),y.qZA()}2&e&&(y.xp6(1),y.Q6J("matTooltipPosition","above"))}function V(e,t){1&e&&y._UZ(0,"mat-header-row")}function ee(e,t){1&e&&y._UZ(0,"mat-row")}function te(e,t){1&e&&(y.TgZ(0,"span"),y._uU(1,"No Data"),y.qZA())}function ne(e,t){1&e&&(y.TgZ(0,"div",32),y._UZ(1,"mat-progress-bar",33),y.qZA())}var ae=l.Bz.forChild([{path:"",component:function(){var e=function(){function e(t,a,i){n(this,e),this.emailGeneralService=t,this.notification=a,this.dialog=i,this.loader=!1,this.pageIndex=0,this.pageSizeOptions=[5,10,25,50,100],this.displayedColumns=["display_name","send_email","send_sms","actions"]}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.dataSource=new v(this.emailGeneralService),this.dataSource.meta$.subscribe(function(t){return e.meta=t}),this.dataSource.load("",0,0,"display_name","asc")}},{key:"editDialog",value:function(e){var t=this,n=new s.vA;n.disableClose=!0,n.autoFocus=!0,n.width="500px",n.height="350px",n.data={communicationSetting:e,emailTemplates:this.emailTemplates,smsTemplates:this.smsTemplates},this.dialog.open(I,n).afterClosed().subscribe(function(e){e&&t.loadData()})}},{key:"loadData",value:function(){this.dataSource.load(this.search.nativeElement.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction)}},{key:"ngAfterViewInit",value:function(){var e=this;(0,m.R)(this.search.nativeElement,"keyup").pipe((0,g.b)(1e3),(0,h.x)(),(0,b.b)(function(){e.paginator.pageIndex=0,e.loadData()})).subscribe(),this.paginator.page.pipe((0,b.b)(function(){return e.loadData()})).subscribe(),this.sort.sortChange.subscribe(function(){return e.paginator.pageIndex=0}),(0,p.T)(this.sort.sortChange,this.paginator.page).pipe((0,b.b)(function(){return e.loadData()})).subscribe()}},{key:"openConfirmationDialog",value:function(e){var t=this;this.dialogRef=this.dialog.open(d.z,{disableClose:!0}),this.dialogRef.afterClosed().subscribe(function(e){t.dialogRef=null})}},{key:"delete",value:function(e){var t=this;this.loader=!0,this.emailGeneralService.delete(e).subscribe(function(e){t.loader=!1,t.loadData(),t.notification.showNotification("success","Success !! Communication Setting has been deleted.")},function(e){t.loader=!1,t.notification.showNotification("danger",e.error.error?"Delete Error !! ":"Connection Error !! Nothing deleted. Check Connection and retry. ")})}},{key:"clearSearch",value:function(){this.search.nativeElement.value="",this.loadData()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(A),y.Y36(x.g),y.Y36(s.uw))},e.\u0275cmp=y.Xpm({type:e,selectors:[["robi-system-email-setting"]],viewQuery:function(e,t){var n;(1&e&&(y.Gf(Q,7),y.Gf(u.NW,7),y.Gf(f.YE,7)),2&e)&&(y.iGM(n=y.CRH())&&(t.search=n.first),y.iGM(n=y.CRH())&&(t.paginator=n.first),y.iGM(n=y.CRH())&&(t.sort=n.first))},decls:32,vars:12,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","search-form-section"],[1,"col-10"],[1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"disabled"],["search",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"table-responsive"],["matSort","","matSortActive","display_name","matSortDirection","asc","matSortDisableClear","",3,"dataSource"],["table",""],["matColumnDef","display_name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","send_email"],["matColumnDef","send_sms"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["class","button-row",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","d-flex justify-content-center spinner-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageIndex","pageSizeOptions"],["pagination",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-sort-header",""],[1,"material-icons"],[1,"button-row"],["mat-raised-button","","type","button","matTooltip","Edit",1,"btn","btn-primary","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"d-flex","justify-content-center","spinner-container"],["color","green","mode","query","value","50","bufferValue","75"]],template:function(e,t){if(1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y.TgZ(5,"div",5),y.TgZ(6,"mat-form-field",6),y._UZ(7,"input",7,8),y.YNc(9,R,3,0,"button",9),y.qZA(),y.qZA(),y.qZA(),y.TgZ(10,"div",10),y.TgZ(11,"mat-table",11,12),y.ynx(13,13),y.YNc(14,G,2,0,"mat-header-cell",14),y.YNc(15,H,2,1,"mat-cell",15),y.BQk(),y.ynx(16,16),y.YNc(17,B,2,0,"mat-header-cell",14),y.YNc(18,$,3,2,"mat-cell",15),y.BQk(),y.ynx(19,17),y.YNc(20,P,2,0,"mat-header-cell",14),y.YNc(21,F,3,2,"mat-cell",15),y.BQk(),y.ynx(22,18),y.YNc(23,L,2,0,"mat-header-cell",19),y.YNc(24,K,4,1,"mat-cell",20),y.BQk(),y.YNc(25,V,1,0,"mat-header-row",21),y.YNc(26,ee,1,0,"mat-row",22),y.qZA(),y.YNc(27,te,2,0,"span",23),y.YNc(28,ne,2,0,"div",24),y.ALo(29,"async"),y._UZ(30,"mat-paginator",25,26),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e){var n=y.MAs(8);y.xp6(7),y.Q6J("disabled",0===(null==t.meta?null:t.meta.total)),y.xp6(2),y.Q6J("ngIf",n.value),y.xp6(2),y.Q6J("dataSource",t.dataSource),y.xp6(14),y.Q6J("matHeaderRowDef",t.displayedColumns),y.xp6(1),y.Q6J("matRowDefColumns",t.displayedColumns),y.xp6(1),y.Q6J("ngIf",0===(null==t.meta?null:t.meta.total)),y.xp6(1),y.Q6J("ngIf",y.lcZ(29,10,null==t.dataSource?null:t.dataSource.loading$)||t.loader),y.xp6(2),y.Q6J("length",null==t.meta?null:t.meta.total)("pageIndex",t.pageIndex)("pageSizeOptions",t.pageSizeOptions)}},directives:[q.KE,w.Nt,C.O5,O.BZ,f.YE,O.w1,O.fO,O.Dz,O.as,O.nj,u.NW,j.lW,q.R9,U.Hw,O.ge,f.nU,O.ev,J.gM,O.XQ,O.Gk,E.pW],pipes:[C.Ov],styles:[""]}),e}()}]),ie=r(83893),oe=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[ie.m,ae]]}),e}()},1581:function(e,a,i){i.d(a,{y:function(){return s}});var o=i(26215),r=i(25917),c=i(5304),l=i(68939),s=function(){function e(t){n(this,e),this.service=t,this.dataSubject=new o.X([]),this.loadingSubject=new o.X(!1),this.loading$=this.loadingSubject.asObservable(),this.metaSubject=new o.X({}),this.meta$=this.metaSubject.asObservable()}return t(e,[{key:"load",value:function(e,t,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";this.loadingSubject.next(!0),this.service.getAll(e,t,n,i,o,s,u).pipe((0,c.K)(function(){return(0,r.of)([])}),(0,l.x)(function(){return a.loadingSubject.next(!1)})).subscribe(function(e){a.dataSubject.next(e.data),a.metaSubject.next(e.meta)})}},{key:"loadNested",value:function(e,t,n,a){var i=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";this.loadingSubject.next(!0),this.service.getNested(e,t,n,a,o,s,u,f).pipe((0,c.K)(function(){return(0,r.of)([])}),(0,l.x)(function(){return i.loadingSubject.next(!1)})).subscribe(function(e){i.dataSubject.next(e.data),i.metaSubject.next(e.meta)})}},{key:"connect",value:function(e){return this.dataSubject.asObservable()}},{key:"disconnect",value:function(e){this.dataSubject.complete(),this.loadingSubject.complete()}}]),e}()}}])}();